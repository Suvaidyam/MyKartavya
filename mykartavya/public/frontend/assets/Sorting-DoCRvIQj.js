var H=(w,i,g)=>new Promise((t,l)=>{var E=c=>{try{h(g.next(c))}catch(v){l(v)}},y=c=>{try{h(g.throw(c))}catch(v){l(v)}},h=c=>c.done?t(c.value):Promise.resolve(c.value).then(E,y);h((g=g.apply(w,i)).next())});import{_ as z,c as d,b as r,g as O,r as $,z as P,i as A,k as R,o as q,d as s,n as _,p as F,F as x,h as V,m as b,t as k,q as f,P as j,f as U,C as S,u as o,w as p,e as m,S as D,l as B,T as G,Q as M,R as N,U as L}from"./index-CdvpZXRJ.js";const I="/assets/mykartavya/frontend/assets/sdgall-cuCfGsPH.png",K={},Q={class:"w-full h-full"};function J(w,i){return r(),d("div",Q,i[0]||(i[0]=[O('<div class="flex w-full flex-col items-center gap-3 justify-center h-full"><div class="h-2/5 w-full flex flex-col gap-3"><div class="w-1/4 rounded-md h-5 bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div></div><div class="h-[30%] w-full flex flex-col gap-3"><div class="w-1/2 rounded-md h-5 bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div></div><div class="h-[30%] w-full flex flex-col gap-3"><div class="w-1/3 rounded-md h-5 bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div></div></div>',1)]))}const W=z(K,[["render",J]]),X={class:"w-[270px] min-w-[270px] fixed overflow-auto h-screen pb-[62px] hidden lg:block border-r border-gray-200"},Y={class:"bg-white relative px-4"},Z={class:"flex sticky top-0 bg-white z-20 justify-between items-center py-3"},ee=["disabled"],se={class:"flex flex-col"},te={class:"flex flex-col border-t"},ae={class:"text-[14px] font-medium mb-2 pt-2"},oe={class:"flex flex-col gap-3 pb-2"},le={key:0,class:"flex px-2 items-center gap-2 text-sm"},ne={class:"flex px-2 items-center gap-2 text-sm"},re=["onUpdate:modelValue","value","type","name","id"],ie=["for"],de=["src","alt"],ce={key:1,class:"w-[21px] h-[21px] min-w-[21px] text-[11px] font-normal rounded-full bg-gray-100 flex items-center justify-center"},ue={class:"w-full block lg:hidden px-4 py-3"},ge={class:"flex gap-1 flex-wrap"},fe={key:0,class:"flex px-2 items-center py-1 gap-2 text-sm"},pe={class:"flex px-2 py-1 items-center gap-2 text-sm"},me=["onUpdate:modelValue","value","type","name","id"],ye=["for"],ve={__name:"Filters",setup(w){const i=A("call"),g=$(!1),t=$(!0),l=A("store"),E=$([]),y=$([{name:"SDGs",type:"checkbox",key:"sdgs",options:[]},{name:"Activity Type",type:"checkbox",key:"activity_type",options:[{name:"Online"},{name:"On-Ground"},{name:"Both"}]}]),h=()=>H(this,null,function*(){g.value=!0;try{const u=yield i("mykartavya.controllers.api.sdg_data");E.value=u;const a=y.value.find(e=>e.key==="sdgs");a&&(a.options=u.map(e=>({name:e.name,sdg_image:e.sdg_image})),setTimeout(()=>{g.value=!1},500))}catch(u){g.value=!1,console.error("Error fetching SDG data:",u)}}),c=P({get:()=>{const u=y.value.find(a=>a.key==="sdgs");return u&&l.filters.sdgs.length===u.options.length},set:u=>{const a=y.value.find(e=>e.key==="sdgs");l.filters.sdgs=u&&a?[...a.options.map(e=>e.name)]:[]}}),v=()=>{l.filters={sdgs:[],volunteering_hours:"",activity_type:[],karma_points:""}};return R(l.filters,u=>{t.value=Object.values(u).every(a=>Array.isArray(a)?a.length===0:a==="")},{deep:!0,immediate:!0}),q(h),(u,a)=>(r(),d(x,null,[s("aside",X,[s("div",Y,[s("div",Z,[a[4]||(a[4]=s("h3",{class:"text-lg font-medium"},"Filter by",-1)),s("button",{disabled:t.value,class:_([t.value?"text-gray-500":"text-[#E86C13]","text-sm"]),onClick:a[0]||(a[0]=e=>v())}," Clear All ",10,ee)]),s("div",se,[g.value?(r(),F(W,{key:0})):(r(!0),d(x,{key:1},V(y.value,e=>(r(),d("div",te,[s("h4",ae,k(e.name),1),s("div",oe,[e.key==="sdgs"?(r(),d("div",le,[f(s("input",{"onUpdate:modelValue":a[1]||(a[1]=n=>c.value=n),type:"checkbox",class:"rounded-sm focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"all-sdgs"},null,512),[[j,c.value]]),a[5]||(a[5]=s("label",{class:"text-[12px] cursor-pointer font-normal flex gap-2 items-center",for:"all-sdgs"},[s("img",{src:I,alt:"el",class:"w-5 h-5 rounded-full object-cover"}),U(" All ")],-1))])):b("",!0),(r(!0),d(x,null,V(e.options,n=>{var C;return r(),d("div",ne,[f(s("input",{"onUpdate:modelValue":T=>o(l).filters[e.key]=T,value:n.name,type:e.type,name:e.key,class:_([e.type=="checkbox"?"rounded-sm":"rounded-full","focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary"]),id:`${e.key}-${n.name.toLowerCase().replace(" ","-")}`},null,10,re),[[S,o(l).filters[e.key]]]),s("label",{class:"text-[12px] font-normal cursor-pointer flex items-center gap-1",for:`${e.key}-${n.name.toLowerCase().replace(" ","-")}`},[n.sdg_image&&e.key=="sdgs"?(r(),d("img",{key:0,src:n.sdg_image,alt:n,class:"w-[21px] h-[21px] min-w-[21px] rounded-full object-cover bg-white"},null,8,de)):b("",!0),!n.sdg_image&&e.key=="sdgs"?(r(),d("div",ce,k((C=n==null?void 0:n.name)==null?void 0:C.charAt(0)),1)):b("",!0),U(" "+k(n.name),1)],8,ie)])}),256))])]))),256))])])]),s("div",ue,[s("div",ge,[(r(!0),d(x,null,V(y.value,e=>(r(),F(o(N),{as:"div",class:"relative inline-block text-left"},{default:p(()=>[s("div",null,[m(o(D),{class:_([(Array.isArray(o(l).filters[e.key])?o(l).filters[e.key].length>0:o(l).filters[e.key])?"ring-[#E86C13] text-[#E86C13]":"ring-gray-300","inline-flex w-full justify-center gap-x-1.5 truncate rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 shadow-xs ring-inset hover:bg-gray-50"])},{default:p(()=>[U(k(e.name)+" ",1),m(o(B),{class:"size-4",name:"chevron-down"})]),_:2},1032,["class"])]),m(G,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:p(()=>[m(o(M),{class:"absolute p-1 max-h-72 overflow-auto left-0 z-10 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white ring-1 shadow-lg ring-black/5 focus:outline-hidden"},{default:p(()=>[e.key==="sdgs"?(r(),d("div",fe,[f(s("input",{"onUpdate:modelValue":a[2]||(a[2]=n=>c.value=n),type:"checkbox",class:"rounded-sm focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"all-sdgs"},null,512),[[j,c.value]]),a[6]||(a[6]=s("label",{class:"text-[12px] font-normal",for:"all-sdgs"},"All",-1))])):b("",!0),(r(!0),d(x,null,V(e.options,n=>(r(),d("div",pe,[f(s("input",{"onUpdate:modelValue":C=>o(l).filters[e.key]=C,value:n.name,type:e.type,name:e.key,class:_([e.type=="checkbox"?"rounded-sm":"rounded-full","focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary"]),id:`${e.key}-${n.name.toLowerCase().replace(" ","-")}`},null,10,me),[[S,o(l).filters[e.key]]]),s("label",{for:`${e.key}-${n.name.toLowerCase().replace(" ","-")}`},k(n.name),9,ye)]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),t.value?b("",!0):(r(),d("button",{key:0,class:"border truncate rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-700",onClick:a[3]||(a[3]=e=>v())},"Clear All"))])])],64))}},Ce=z(ve,[["__scopeId","data-v-0f4c233a"]]),he={class:"flex px-2 py-1 items-center gap-2 text-sm"},xe={class:"flex px-2 py-1 items-center gap-2 text-sm"},be={class:"flex px-2 py-1 items-center gap-2 text-sm"},ke={class:"flex px-2 py-1 items-center gap-2 text-sm"},$e={__name:"Sorting",setup(w){const i=A("store");return(g,t)=>(r(),F(o(N),{as:"div",class:"relative inline-block text-left"},{default:p(()=>[s("div",null,[m(o(D),{class:_("inline-flex w-full justify-center gap-x-1.5 truncate rounded-md bg-white p-2.5 text-sm font-semibold text-gray-900 ring-1 shadow-xs ring-inset hover:bg-gray-50")},{default:p(()=>[m(o(B),{class:"size-3",name:"align-right"})]),_:1})]),m(G,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:p(()=>[m(o(M),{class:"absolute p-1 max-h-72 overflow-auto right-0 z-10 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white ring-1 shadow-lg ring-black/5 focus:outline-hidden"},{default:p(()=>[t[8]||(t[8]=s("p",{class:"text-base px-2 py-1 font-normal"},"Karma Points",-1)),s("div",he,[f(s("input",{name:"karma_points","onUpdate:modelValue":t[0]||(t[0]=l=>o(i).filters.karma_points=l),type:"radio",value:"Low to High",class:"focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"karma-low-to-high"},null,512),[[L,o(i).filters.karma_points]]),t[4]||(t[4]=s("label",{for:"karma-low-to-high"},"Low to High",-1))]),s("div",xe,[f(s("input",{name:"karma_points","onUpdate:modelValue":t[1]||(t[1]=l=>o(i).filters.karma_points=l),type:"radio",value:"High to Low",class:"focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"karma-high-to-low"},null,512),[[L,o(i).filters.karma_points]]),t[5]||(t[5]=s("label",{for:"karma-high-to-low"},"High to Low",-1))]),t[9]||(t[9]=s("p",{class:"text-base px-2 py-1 font-normal"},"Volunteering Hours",-1)),s("div",be,[f(s("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>o(i).filters.volunteering_hours=l),type:"radio",name:"volunteering_hours",value:"Low to High",class:"focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"volunteering-low-to-high"},null,512),[[L,o(i).filters.volunteering_hours]]),t[6]||(t[6]=s("label",{for:"volunteering-low-to-high"},"Low to High",-1))]),s("div",ke,[f(s("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>o(i).filters.volunteering_hours=l),type:"radio",name:"volunteering_hours",value:"High to Low",class:"focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"volunteering-high-to-low"},null,512),[[L,o(i).filters.volunteering_hours]]),t[7]||(t[7]=s("label",{for:"volunteering-high-to-low"},"High to Low",-1))])]),_:1})]),_:1})]),_:1}))}};export{Ce as F,$e as _};
