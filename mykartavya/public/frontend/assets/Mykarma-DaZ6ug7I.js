var S=(H,h,p)=>new Promise((v,B)=>{var b=f=>{try{g(p.next(f))}catch(A){B(A)}},o=f=>{try{g(p.throw(f))}catch(A){B(A)}},g=f=>f.done?v(f.value):Promise.resolve(f.value).then(b,o);g((p=p.apply(H,h)).next())});import{F as _t,_ as yt}from"./Sorting-Cs8JIZoE.js";import{_ as ft,r as m,o as ht,c as r,a as t,u as x,i as z,t as n,b as d,w as xt,d as bt,e as At,f as y,g as w,F as q,h as D,j as l,k as wt,l as kt,m as G,n as U,p as pt}from"./index-CqqkpDUO.js";import{_ as vt,C as gt}from"./NotFound-C4NXTtRA.js";import{C as F}from"./CardLoader-yBh5F8dd.js";import{R as Bt}from"./ReqForApproval-ByD34ygX.js";import"./Dialog-CsgiYGfn.js";import"./index-Qec3BIaP.js";/* empty css              */const St="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANuSURBVHgB1VhLSFRRGP7uVSMyyIVobsISQlDBWqRBixmEaGE6s/IBhUZBEGG06kFUBK2TVmGPXeAiRq2ghToFQdrCBCeQSmdwYz4gXehGc/q/4xzRccZzfDAzfTJz7j3zn3O++/2Pc7wOYvAEfHkHgbYo0OIAxUgRZL1haT7+Bdo/+Lsi7HP4dS7gK84BgtEUkomHEIksAV4Sc9mRDQTSSYjg+sLjFa+d2oDPI20QmYJleF2RrRIZhKiLSje6gjxkEESkPBcZiOztGFfkl6G6qAoFBwrU/fh8GH0TQUwvTm+wKc8vx7FDR5Gbk4uw2HSPvdtgY0LW8YZSj2jmMRlerriElrKLCM1+x9D0N9Vy4ZayC6odn4+gqbRB2fz481PZ8JOTtQ/XKq8qghxjRBSfnNo3vgdwcd9EqFDUeTL0FAtLC5t+vyK/15WcR8/YW7we7dxkQ0I3Tl7HlKj1fOQltsQKHhpjquaIF6fFZckIER2yUFvwpmrX23Dsi7PP1h6I81SIa00wkqoXBRI9fTwYX/FgvJHo3apb6p7E6OJdkaLsDOq+iX7sFAOTg/giH6o2MhtaS4Adk1oN4DB2i8HJr5J9M+qaWaizNxm2LAkMzELDBDagQtvBlkrxqSi1SW5bUCF+wgb1jYHOeKgrqcVegIWVMWaCkVS/ZBAzUKvFlGY2mbKIdevxmUdrJYAKNZc2quq+a1KMBxLSJNiOSGUm0WQ1hwTqRd2BdSqzZb+ptFiRIjgRC59eQO9nTPNEaBbivVJGwrL18IGoGsfb7n/WpG5/vqfUYZkguKVQqfh4axIXsZ+Fk6A9VeN4W1iR4tNqYomI6njTbmO/VkXb6fpko5YVKVZ0xhIn5LYxFZuY97zW6rGmsdjqhXndEzu2cFO33RmsSHHvo0tIjBPbxgZV6hY3a5d2mE4IMVgd8jj5HXEBU5yEdLxokGzNojfh9sFkqC46pcbbZJ41KU2MKZ5oYZaI1ZiZUQVyPWjPcbaEiD05o4ekltGtoW3uccnw///jwONHvBt4LNHZyJb3pjEmWJ3RUwqbM3o64Dou5pBBkBcdc27s/VDGwFnBsHo/JW9eWA09SDMo0Ht/1wkVU8tAq3REkEZwfXmb5+d1Fr9+dY7OlTSWdosvHfnbL12HkSKQjLirXYpGa6+/6zf7/gGEoaO4VYQ1+gAAAABJRU5ErkJggg==",Ct="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHhSURBVHgB7di/TsJQFAbw79ImYmJiE010g0k3BB+AlAfQxAcgwcHZF3DQxBcgjgwOPoCJbi4oo1PDphMMDg4kmKiBob3e0z+hLSXUcAsd+iWE9pRwf5y2t+QyuOFtTYP6ew6LNcRuEcuLAWY9w1SarDbqUYE5oHwROd5eMiacnmhIjWA5ezdn3a8YBHt8hd/SBhNd0t0upSOWWROd4mWkKkqZUBpSFa7lkMJkqLjJUHGTHEoVN/XhK7BTnz6234quJ4oiUOkJ2Cg5gLUCpkDheqIoP4jydgaM+0FQuJ4oKgr0eRcN8uqJoiSB5KEkguShJILmo+hLCxfTdarttSb7HzfSQBR15pGto+Bc0r923jerQei7O+BXBxj1FwZRZndq8DiBEMKD0OA0EGW3PumYJBBFuWwoOhjTI48SgKJVnZdX++k6iO1jcS0dOJMg/QgJIHC8qHM/FNUtqvmvHeoYofOFxUBu4t19hIjC0cDeqZQEio8Kw0a+x4MfJgFEmX/6wrDBA/DdDdbDd9+C+f/kGQZ5kQSiZP884yZDxY1AsSFSFTYklIFUxTSc9anOWls8c3SsOhwG08cV55oy2Slo0Wq16YGzE9qwUfaynlhFg4UmOF/u6eT2Ct4VrPWKt7z4Bwes0YEwLjVRAAAAAElFTkSuQmCC",Ut="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANQSURBVHgBzZg/TBNRHMd/7117/B3KIIMOnIlxgQQao4sDNCQ6Eifjgn/YNdFZjO6QwE6ILCQmxpC4OJDKKiGWwYXFY9BBh5YoYHvtPd/3XV85C/b+tKH3TZpcr6/3+9zv3/vdMdJaLWb4oPmEXPGAEVl0ThJEBU70seo6S3RvyMY5pn5ZL1oGN/NyiUVdE7NrbiUHMI6vnKffdRcIEpZhpFdxxGj915TBWZ4SIuaKHOeMTVCC5EoeTkJkKEmSPJwSqBTFVCbNaHyI08xFgyYvGJQxGZUqgkqOoN2SSxvfa7T1o0ZxFAvq8dUUzY+aCsyvkQHv++SwIdekyT4UNPepTFs/o8FFgrKk0ZXrPcooBK9sfKspoweVE7DJYXgwpdZv5nrp1ZeK/Dih7YSG8gz00Ug/UzDLe1X5cdRxs5b3sL5Cz6U371ueV61+To+2y6FshU70tzd7FRBCMp3/o+7eDzQ/mlbe0dKh0x6avZxSYe8Y1Ky82/F6oQIIiewXwglvLGTNU//1h25xokfeWLDJUFAvxsy6AYf2j1yKKoDpSpwfSweuD4RCSHTYcPG40t6auWScqtrIUKgkKGpZNwv/Rw4CSFdvbCidS7ul9qAUWD2E45k2PWUNaigRtFR2dWqZyAf1VtV2+BoGW1xot+jKAvBCg2YZVGFn9bZIUIWi5/KRAWppZDp/rMB0Fz8LDAWj17cFtX/oXcDfGM+S11T/BWv2LjZwKCgVAqGwt0GomKCw+MEyTX0UDRiQWBM0PQRCoZT1RRazwY0PRq99OKYr748bYYLndANes6uB1wiV6CeNL6X2uCABxp83CxNmowG//tohKHhLg2GPCwMGIVwrN3rUzUBzckoIs02FbgnYYjCuaLCdW33/7cyAwZC3c7tPjS4KCMNeyEk00pD3tFBWYYGn0Ok3p3pVSNDtS/XGaPV7Y7KuPDXCbJcjjcaRx2F4bM12GgMcktgaOH2ZoEGwo1CQHuCefa6oEGIva3jmyHtwiPvQEBtKy5vRq/JDHVUin/s4MVaiJEnycC5EgRIk8KjsNN78zsu3V1PUZeEFmnt3MKtyqlZzHsoTNnVRsO+6zh0ce4ku357JEzkmxBJo6RwlBNnyndRL98jJ6teLfwGor4uW6cRKRwAAAABJRU5ErkJggg==",Rt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPUSURBVHgBzVhLSFRhFD7/TaPpRSj0MmEWaUVYMwWSRDG167VoYS2CpsciF5VhEJVuAo1WglBoix62SxcuMl2lpfjAhV6RKNTFiFOp4CRqamr+ne/HAb0696WoH6j38V/v95/zne8crqBZ3AtUbBub3JAtiK7xqZdWDFKXUvusSVlU0nwmhCsCv7KOVXulRrUrS2YBQmKGToGYhjOpyYpVJgR4paA3OBBZxz4EpBZXS2sE/zha2oxY56M1BE1IXxwJuW1WWraxcXMcHT6xw3TN+OgU6fUD5BjMJ45c4GpuGgkhaGxkKuaa1CMJ5NkST01VP8gpXJFKTtlKpQUd1NkWibkmyMQTd3rIDTRygfKi7+qlSONi8J3criLVVO08Sq5J6fX9pNf1UzDv0IJ7iE7m3QNUeLuFBn+Nkxu4IgUM9k2w2LfTHk7lXJy/uVdpybM5ntxi3dHkKwFBImD3AUTi/vN0StzlocI7LdTf82fe/XauuOHIX7ry4KBaE/o6RFOTM2Qf8oujSEErOUyoseqnaXpQcfnBBtZcPOW+Pe5Y8LZJgVBm9gEqftRKNWUhy/Xjo9OqQkEQG3FCzBapueINd42QE1S+7lbEgnlptp+x5VPY6aeynnnpUj60K/buQSRqnCCW40+n05e9VPM+REsmlXE2SXUhY8pwPrfCUv0JqvJKHrbRGLeYcPfwvPWlTzuUvpo/hvn+tOk7LdOXcSaJKl91L7guDf0S7o7U7knZos49m+ZbAqIc7hy27JmAZaTgzCUsbiMu3GA/Mjh6AqfTd3KHihrc3Nj3cG7H6U1JJfOue3n3i4W72ED09CUvJe72qOuxrKJTj6gUW8GUVOLOjRTpi90qQGQf7zzFl6A0VPyw1bS1YKqA2y+JFNJjNp5gZoKGQKg0v4Nbj3mvg3fFauK2Sal/YrIzaAQCP8/6ynmRrqKk1w1QOzfrxQiqTVpUniWpXo7AVb+56YEInBvwcWUdZueP9I0tSgpzWLhrmJZEKlrGqCazgS4KNdLwTyzA8+xMopY+BTfOenbE9RQZBVKs7GA5SCFC5UXfVKtR7u4QEHZm9n7KOJekeqcd2Op9UUEHH6epHWNm0mfFbLQAkEDZp7JNQF/QEZ4vuNbAlWwtctukALwcQx2aMFoPyOE42pRxH8eornG2EWyis+03veOeZ5eMY1JzyUFnRoCQ25ncCNczuhHLRQjQSIohWktgPpomhU5rCDPMRw1FtzKqa3k8CtCqQ+ovG8/6laaEpOv8J0SrC/5oJi7iQJHC1zN8RWOmRWBLK4sQp+uJZ/2EP/p58T+NLasW3TdpwgAAAABJRU5ErkJggg==",Et={class:"w-full xl:w-[320px] xl:min-w-[320px] bg-white rounded-lg shadow-sm pt-3 lg:mt-0"},jt={class:"px-4"},Ft={class:"flex items-center mb-6 border-b border-gray-100 py-3"},Lt=["src"],Kt={key:1,class:"w-[60px] min-w-[60px] mr-4 text-2xl h-[60px] flex items-center justify-center rounded-full bg-gray-100 shadow-sm"},Tt={class:"text-[15px] font-medium text-gray-800"},Vt={class:"text-gray-500 text-xs font-normal"},Yt={class:"border-b pb-4"},Wt={class:"text-[47px] font-semibold text-red-500"},Qt={class:"grid grid-cols-2 gap-4 pt-4"},Ot={class:"border border-gray-200 rounded-lg px-4 py-3 text-center hover:shadow-md transition-shadow"},Mt={class:"text-lg font-semibold text-gray-800"},Jt={class:"border border-gray-200 rounded-lg px-4 py-3 text-center hover:shadow-md transition-shadow"},Nt={class:"text-lg font-semibold text-gray-800"},It={class:"border border-gray-200 rounded-lg px-4 py-3 text-center hover:shadow-md transition-shadow"},Zt={class:"text-lg font-semibold text-gray-800"},Gt={class:"rounded-lg px-4 xl:px-0 w-full mt-6"},zt={class:"rounded-t-xl px-6 py-4 achieve-bg relative overflow-hidden bg-gradient-to-b to-white"},qt={class:"flex flex-col items-center"},Dt={class:"relative"},Ht={class:"bg-orange-400 rounded-full w-20 h-20 flex items-center justify-center border-4 border-[#f17940] shadow-lg"},Pt=["src"],Xt={key:1,class:"rounded-full w-full h-full bg-gray-100 flex items-center justify-center"},$t={class:"text-sm font-medium pt-3 text-gray-800"},te={class:"text-[10px] font-normal pt-1 flex gap-1 flex-col items-center"},ee={class:"flex items-center gap-1"},se={class:"flex items-center gap-1"},oe={class:"flex justify-between -mt-10"},le={class:"flex flex-col items-center"},ae={class:"relative"},re={class:"bg-purple-400 rounded-full w-16 h-16 flex items-center justify-center border-4 border-[#995dc5] shadow-lg"},ne=["src"],ie={key:1,class:"rounded-full w-full h-full bg-gray-100 flex items-center justify-center"},ce={class:"text-xs font-medium pt-3 text-gray-800"},de={class:"text-[10px] font-normal pt-1 flex flex-col items-center gap-1"},ue={class:"flex items-center gap-1"},me={class:"flex items-center gap-1"},xe={class:"flex flex-col items-center"},pe={class:"relative"},ve={class:"bg-blue-400 rounded-full w-16 h-16 flex items-center justify-center border-4 border-[#4c89f8] shadow-lg"},ge=["src"],fe={key:1,class:"rounded-full w-full h-full bg-gray-100 flex items-center justify-center"},he={class:"text-xs font-medium pt-3 text-gray-800"},Ae={class:"text-[10px] font-normal pt-1 flex flex-col items-center gap-1"},_e={class:"flex items-center gap-1"},ye={class:"flex items-center gap-1"},be={class:"overflow-x-auto"},we={class:"w-full"},ke={key:0},Be={class:"text-[12px] font-medium py-2"},Se={class:"flex items-center pl-3"},Ce={class:"w-8 h-8 flex items-center"},Ue=["src","alt"],Re={key:1,class:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center shadow-sm"},Ee={class:"text-gray-700 font-medium text-[11px] ml-2"},je={class:"text-[11px] font-normal text-center py-2 text-gray-600"},Fe={class:"text-[11px] font-normal text-center py-2 text-gray-600"},Le={class:"text-[11px] font-normal text-center py-2 text-gray-600"},Ke={key:1},Te={class:"bg-white w-full px-4 pb-4 border-t border-gray-100"},Ve={class:"flex justify-between items-center"},Ye=["src","alt"],We={key:1,class:"w-10 h-10 rounded-[4px] border flex justify-center items-center shadow-sm"},Qe={class:"text-[14px] font-medium text-gray-800"},Oe={class:"text-gray-500 text-[12px]"},Me={class:"text-gray-800 font-medium"},Je={class:"text-gray-500 text-[12px]"},Ne={class:"text-gray-800 font-medium"},Ie={key:1,class:"text-center text-gray-500 py-4"},Ze={__name:"MyDetails",setup(H){const h=z("auth"),p=z("call"),v=m([]),B=m(),b=m({}),o=m([]),g=m([]),f=()=>S(this,null,function*(){try{const c=yield p("mykartavya.controllers.api.user_count");c&&(b.value=c)}catch(c){console.error("Error fetching activity data:",c)}}),A=()=>S(this,null,function*(){try{const c=yield p("mykartavya.controllers.api.top_three_volunteer");B.value=c,c&&(o.value=c)}catch(c){console.error("Error fetching activity data:",c)}}),R=()=>S(this,null,function*(){try{const c=yield p("mykartavya.controllers.api.sdg_impacted");c&&(g.value=c)}catch(c){console.error("Error fetching activity data:",c)}}),E=()=>S(this,null,function*(){const c=yield p("mykartavya.controllers.api.get_top_users",{});c&&(v.value=c.users)});ht(()=>{A(),E(),f(),R()});const u=c=>(c/60/60).toFixed(2);return(c,e)=>{var L,O,K,M,J,T,N,I,j,i,s,k,V,Y,W,_,P,X,$,tt,et,st,ot,lt,at,rt,nt,it,ct,dt,ut,mt;const C=bt("router-link");return l(),r("aside",Et,[t("div",jt,[t("div",Ft,[x(h).cookie.user_image?(l(),r("img",{key:0,src:x(h).cookie.user_image,alt:"Profile Picture",class:"rounded-full w-[60px] h-[60px] object-cover mr-4 shadow-sm"},null,8,Lt)):(l(),r("div",Kt,n(x(h).cookie.full_name.charAt(0)),1)),t("div",null,[t("h2",Tt,n(x(h).cookie.full_name),1),t("p",Vt,n(x(h).cookie.user_id),1),d(C,{to:"/updateprofile",class:"text-[11px] font-medium mt-2 inline-block hover:text-orange-600 transition-colors",style:{color:"#ff5722"}},{default:xt(()=>e[0]||(e[0]=[y("EDIT PROFILE")])),_:1})])]),t("div",Yt,[e[1]||(e[1]=t("h3",{class:"text-[19px] font-medium text-gray-800"},"Total Karma Points",-1)),t("p",Wt,n(((O=(L=b.value)==null?void 0:L.karma_points)==null?void 0:O.toLocaleString())||"0"),1)]),t("div",Qt,[t("div",Ot,[e[2]||(e[2]=t("span",{class:"block text-blue-500 text-xl pb-2"},[t("img",{src:St,alt:"",class:"mx-auto"})],-1)),e[3]||(e[3]=t("h4",{class:"font-medium text-[11px] pb-1 text-gray-600"}," Act of Random Kindness ",-1)),t("p",Mt,n(b.value.activity_completed),1)]),e[8]||(e[8]=At('<div class="border border-gray-200 rounded-lg px-4 py-3 text-center hover:shadow-md transition-shadow" data-v-8a4581f7><span class="block text-blue-500 text-xl pb-2" data-v-8a4581f7><img src="'+Ct+'" alt="" class="mx-auto" data-v-8a4581f7></span><h4 class="font-medium text-[11px] pb-1 text-gray-600" data-v-8a4581f7> Completed Opportunities </h4><p class="text-lg font-semibold text-gray-800" data-v-8a4581f7> 0 </p></div>',1)),t("div",Jt,[e[4]||(e[4]=t("span",{class:"block text-blue-500 text-xl pb-2"},[t("img",{src:Ut,alt:"",class:"mx-auto"})],-1)),e[5]||(e[5]=t("h4",{class:"font-medium text-[11px] pb-1 text-gray-600"}," Time Donated ",-1)),t("p",Nt,n((K=b.value)!=null&&K.total_hours?u((M=b.value)==null?void 0:M.total_hours)+" hrs ":"0"),1)]),t("div",It,[e[6]||(e[6]=t("span",{class:"block text-blue-500 text-xl pb-2"},[t("img",{src:Rt,alt:"",class:"mx-auto"})],-1)),e[7]||(e[7]=t("h4",{class:"font-medium text-[11px] pb-1 text-gray-600"}," Money Saved ",-1)),t("p",Zt," ₹ "+n(((J=b.value.work_value_rupees)==null?void 0:J.toLocaleString())||"0"),1)])])]),t("div",Gt,[t("div",zt,[e[12]||(e[12]=t("h2",{class:"text-md font-semibold text-gray-800 pb-10 relative z-10"}," Top Performers ",-1)),e[13]||(e[13]=t("div",{class:"absolute top-12 left-1/2 transform -translate-x-1/2"},[t("svg",{width:"30",height:"23",viewBox:"0 0 23 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M3.04167 15.333L0.625 2.04134L7.27083 8.08301L11.5 0.833008L15.7292 8.08301L22.375 2.04134L19.9583 15.333H3.04167ZM19.9583 18.958C19.9583 19.683 19.475 20.1663 18.75 20.1663H4.25C3.525 20.1663 3.04167 19.683 3.04167 18.958V17.7497H19.9583V18.958Z",fill:"#EBBB00"})])],-1)),t("div",qt,[t("div",Dt,[t("div",Ht,[(T=o.value[0])!=null&&T.user_image?(l(),r("img",{key:0,src:(N=o.value[0])==null?void 0:N.user_image,alt:"Anaya Singh",class:"rounded-full w-full h-full object-cover"},null,8,Pt)):(l(),r("div",Xt,n(((j=(I=o.value[0])==null?void 0:I.first_name)==null?void 0:j.charAt(0))||" T"),1))]),e[9]||(e[9]=t("span",{class:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-orange-500 text-white text-xs w-6 h-6 flex items-center justify-center rounded-full shadow-sm"}," 1 ",-1))]),t("p",$t,n(((i=o.value[0])==null?void 0:i.first_name)||"Top 1"),1),t("div",te,[t("div",ee,[d(x(w),{name:"database",class:"size-3 text-gray-500"}),y(" "+n(((k=(s=o.value[0])==null?void 0:s.total_karma_points)==null?void 0:k.toLocaleString())||"0")+" Points ",1)]),t("div",se,[d(x(w),{name:"clock",class:"size-3 text-gray-500"}),y(" "+n((V=o.value[0])!=null&&V.total_hours?u((Y=o.value[0])==null?void 0:Y.total_hours):"0")+" hr ",1)])])]),t("div",oe,[t("div",le,[t("div",ae,[t("div",re,[(W=o.value[1])!=null&&W.user_image?(l(),r("img",{key:0,src:(_=o.value[1])==null?void 0:_.user_image,alt:"Anaya Singh",class:"rounded-full w-full h-full object-cover"},null,8,ne)):(l(),r("div",ie,n(((X=(P=o.value[1])==null?void 0:P.first_name)==null?void 0:X.charAt(0))||" T"),1))]),e[10]||(e[10]=t("span",{class:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-purple-500 text-white text-xs w-6 h-6 flex items-center justify-center rounded-full shadow-sm"}," 2 ",-1))]),t("p",ce,n((($=o.value[1])==null?void 0:$.first_name)||"Top 2"),1),t("div",de,[t("div",ue,[d(x(w),{name:"database",class:"size-3 text-gray-500"}),y(" "+n(((et=(tt=o.value[1])==null?void 0:tt.total_karma_points)==null?void 0:et.toLocaleString())||"0")+" Points ",1)]),t("div",me,[d(x(w),{name:"clock",class:"size-3 text-gray-500"}),y(" "+n((st=o.value[1])!=null&&st.total_hours?u((ot=o.value[1])==null?void 0:ot.total_hours):"0")+" hr ",1)])])]),t("div",xe,[t("div",pe,[t("div",ve,[(lt=o.value[2])!=null&&lt.user_image?(l(),r("img",{key:0,src:(at=o.value[2])==null?void 0:at.user_image,alt:"Anaya Singh",class:"rounded-full w-full h-full object-cover"},null,8,ge)):(l(),r("div",fe,n(((nt=(rt=o.value[2])==null?void 0:rt.first_name)==null?void 0:nt.charAt(0))||"T"),1))]),e[11]||(e[11]=t("span",{class:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs w-6 h-6 flex items-center justify-center rounded-full shadow-sm"}," 3 ",-1))]),t("p",he,n(((it=o.value[2])==null?void 0:it.first_name)||"Top 3"),1),t("div",Ae,[t("div",_e,[d(x(w),{name:"database",class:"size-3 text-gray-500"}),y(" "+n(((dt=(ct=o.value[2])==null?void 0:ct.total_karma_points)==null?void 0:dt.toLocaleString())||"0")+" Points ",1)]),t("div",ye,[d(x(w),{name:"clock",class:"size-3 text-gray-500"}),y(" "+n((ut=o.value[2])!=null&&ut.total_hours?u((mt=o.value[2])==null?void 0:mt.total_hours):"0")+" hr ",1)])])])])]),t("div",be,[t("table",we,[e[15]||(e[15]=t("thead",{class:"bg-gray-50"},[t("tr",{class:"px-2"},[t("th",{class:"text-[11px] pl-3 py-2 font-medium text-gray-600 text-left"}," Name "),t("th",{class:"text-[11px] py-2 font-medium text-gray-600 text-center"}," Time "),t("th",{class:"text-[11px] py-2 font-medium text-gray-600 text-center"}," Karma Points "),t("th",{class:"text-[11px] py-2 font-medium text-gray-600 text-center"}," Rank ")])],-1)),v.value.length>0?(l(),r("tbody",ke,[(l(!0),r(q,null,D(v.value,a=>{var Z,Q;return l(),r("tr",{key:a.id,class:"border-t border-gray-100 hover:bg-gray-50 transition-colors"},[t("td",Be,[t("div",Se,[t("div",Ce,[a.user_image?(l(),r("img",{key:0,src:a.user_image,alt:a.name,class:"w-6 h-6 rounded-full object-cover shadow-sm"},null,8,Ue)):(l(),r("div",Re,n((Z=a.full_name)==null?void 0:Z.charAt(0)),1))]),t("span",Ee,n(a==null?void 0:a.full_name),1)])]),t("td",je,n((a==null?void 0:a.duration)/60/60<1?((a==null?void 0:a.duration)/60/60).toFixed(2)+" hr":Math.floor((a==null?void 0:a.duration)/60/60)+" hr "+Math.floor((a==null?void 0:a.duration)%(60*60)/60)+" min"),1),t("td",Fe,n((Q=a==null?void 0:a.karma_points)==null?void 0:Q.toLocaleString()),1),t("td",Le,n(a==null?void 0:a.rank),1)])}),128))])):(l(),r("tbody",Ke,e[14]||(e[14]=[t("tr",null,[t("td",{colspan:"4",class:"text-center text-gray-500 py-4"}," No users found ")],-1)])))])])]),t("div",Te,[t("div",Ve,[e[17]||(e[17]=t("h2",{class:"text-[16px] font-medium pt-6 text-gray-800"},"SDGs Impacted",-1)),d(C,{to:"/all-volunteer",class:"text-orange-500 text-[11px] font-medium hover:text-orange-600 transition-colors"},{default:xt(()=>e[16]||(e[16]=[y("VIEW ALL")])),_:1})]),g.value.length>0?(l(!0),r(q,{key:0},D(g.value,(a,Z)=>{var Q;return l(),r("div",{key:Z,class:"flex items-center space-x-4 pt-4 hover:bg-gray-50 p-2 rounded-lg transition-colors"},[a.image?(l(),r("img",{key:0,src:a.image,alt:a.sdgs_name,class:"w-10 h-10 rounded-[4px] shadow-sm"},null,8,Ye)):(l(),r("div",We,n((Q=a.sdgs_name)==null?void 0:Q.charAt(0)),1)),t("div",null,[t("h3",Qe,n(a.sdgs_name||"0"),1),t("p",Oe,[e[18]||(e[18]=y(" Time Donated : ")),t("span",Me,n(a.hour?u(a.hour):"0")+" hr",1)]),t("p",Je,[e[19]||(e[19]=y(" Money Saved : ")),t("span",Ne," ₹ "+n(a.work_values||"0"),1)])])])}),128)):(l(),r("div",Ie," No SDGs found "))])])}}},Ge=ft(Ze,[["__scopeId","data-v-8a4581f7"]]),ze={key:0,class:"w-full bg-orange-100"},qe={class:"max-w-7xl mx-auto py-2 px-4 sm:px-6 lg:px-8"},De={class:"flex items-center justify-between"},He={class:"max-w-7xl mx-auto py-3 px-4 sm:px-6 lg:px-8"},Pe={class:"flex items-center gap-3"},Xe={class:"flex-1"},$e={class:"text-sm text-red-700 mt-1 line-clamp-2"},ts={class:"w-full lg:pl-[270px] flex flex-col xl:flex-row"},es={class:"w-full px-2 sm:px-3 py-3 bg-gray-50"},ss={class:"flex justify-between mb-2"},os={class:"p-3 sm:p-4 border rounded-[12px] bg-white"},ls={class:"w-full"},as={class:"flex justify-between items-center w-full"},rs={class:"flex items-center lg:hidden"},ns={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},is={key:1,class:"w-full"},cs={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},ds={key:1,class:"w-full h-[280px]"},us={key:0,class:"flex justify-center mt-2 lg:hidden"},ms={class:"px-3 sm:px-4 mt-5 border rounded-[12px] bg-white overflow-y-auto"},xs={class:"w-full h-12 flex items-center bg-white sticky top-0 z-10"},ps={class:"flex items-center ml-auto lg:hidden"},vs={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},gs={key:1,class:"w-full pb-4"},fs={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},hs={key:1,class:"w-full h-[280px]"},As={key:0,class:"flex justify-center mt-2 lg:hidden"},_s=245,ys={__name:"Mykarma",setup(H){const h=m([]),p=m([]),v=m(!1),B=z("call"),b=z("store"),o=m(null),g=m(!1),f=m(!1),A=m(null),R=m(!0),E=m(!1),u=m(null),c=m(!0),e=m(!1),C=_s,L=i=>S(this,null,function*(){v.value=!0;try{const s=yield B("mykartavya.controllers.api.available_commitments",{filter:i!=null?i:{}});p.value=s,setTimeout(()=>{v.value=!1,j(),T()},1e3)}catch(s){v.value=!1,console.error("Error fetching commitments:",s)}}),O=()=>S(this,null,function*(){var i;try{const s=yield B("mykartavya.controllers.api.sva_user_data");s&&s.length>0&&(A.value=s[0],g.value=((i=s[0])==null?void 0:i.workflow_state)==="Approved")}catch(s){console.error("Error checking user approval status:",s)}}),K=i=>S(this,null,function*(){v.value=!0;try{const s=yield B("mykartavya.controllers.api.current_commitments",{filter:i!=null?i:{}});h.value=s,setTimeout(()=>{v.value=!1,j()},1e3)}catch(s){v.value=!1,console.error("Error fetching Kindness data:",s)}}),M=()=>{u.value&&u.value.scrollTo({left:Math.max(0,u.value.scrollLeft-C),behavior:"smooth"})},J=()=>{if(u.value){const i=u.value.scrollWidth-u.value.clientWidth;u.value.scrollTo({left:Math.min(i,u.value.scrollLeft+C),behavior:"smooth"})}},T=()=>{if(!u.value)return;const{scrollLeft:i,scrollWidth:s,clientWidth:k}=u.value;c.value=i<=0,e.value=i+k>=s},N=()=>{o.value&&o.value.scrollTo({left:Math.max(0,o.value.scrollLeft-C),behavior:"smooth"})},I=()=>{if(o.value){const i=o.value.scrollWidth-o.value.clientWidth;o.value.scrollTo({left:Math.min(i,o.value.scrollLeft+C),behavior:"smooth"})}},j=()=>{if(!o.value)return;const{scrollLeft:i,scrollWidth:s,clientWidth:k}=o.value;R.value=i<=0,E.value=i+k>=s};return wt(()=>{o.value&&o.value.addEventListener("scroll",j),u.value&&u.value.addEventListener("scroll",T)}),ht(()=>{O(),K(),L()}),kt(()=>b.filters,(i,s)=>{i&&(K(i),L(i))},{deep:!0,immediate:!0}),(i,s)=>{var k,V,Y,W;return l(),r("div",{class:U(["max-w-[1920px] w-full mx-auto",{"pt-[62px]":!g.value&&((k=A.value)==null?void 0:k.workflow_state)!=="Rejected"}])},[!g.value&&((V=A.value)==null?void 0:V.workflow_state)!=="Rejected"?(l(),r("div",ze,[t("div",qe,[t("div",De,[s[3]||(s[3]=At('<div class="flex items-center" data-v-774138bb><span class="flex p-1.5 rounded-lg bg-orange-100" data-v-774138bb><svg class="h-4 w-4 text-orange-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-774138bb><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" data-v-774138bb></path></svg></span><p class="ml-2 text-sm font-medium text-orange-800" data-v-774138bb><span class="md:hidden" data-v-774138bb>Account pending approval</span><span class="hidden md:inline" data-v-774138bb>Your account is pending approval. Some features may be limited.</span></p></div>',1)),t("button",{onClick:s[0]||(s[0]=_=>f.value=!0),class:"bg-orange-100 hover:bg-orange-200 px-4 py-1.5 rounded-sm text-sm font-medium text-orange-800 flex items-center gap-1.5 transition-all duration-200 button-animation"},s[2]||(s[2]=[y(" Request for Approval "),t("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M6 12L10 8L6 4",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])])])):G("",!0),((Y=A.value)==null?void 0:Y.workflow_state)==="Rejected"&&((W=A.value)!=null&&W.custom_remarks)?(l(),r("div",{key:1,class:U(["w-full bg-red-50/50",{"mt-16":!g.value}])},[t("div",He,[t("div",Pe,[s[5]||(s[5]=t("div",{class:"w-8 h-8 min-w-8 min-h-8 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0"},[t("svg",{class:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",Xe,[s[4]||(s[4]=t("div",{class:"flex items-center gap-2"},[t("h3",{class:"text-sm font-medium text-red-800"},"Rejection Reason"),t("span",{class:"text-xs text-red-600 bg-red-100 px-2 py-0.5 rounded-full"},"Account Rejected")],-1)),t("p",$e,n(A.value.custom_remarks),1)])])])],2)):G("",!0),d(Bt,{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=_=>f.value=_)},null,8,["modelValue"]),t("div",{class:U(["w-full flex flex-col lg:flex-row px-4 sm:px-5",{"mt-[8px]":!g.value,"mt-[60px]":g.value}])},[d(_t),t("div",ts,[t("main",es,[t("div",ss,[s[6]||(s[6]=t("h1",{class:"text-[20px] sm:text-[23px] font-normal"},"My Karma",-1)),d(yt)]),t("section",os,[t("div",ls,[t("div",as,[s[7]||(s[7]=t("h2",{class:"text-base sm:text-lg font-medium"},"Current Commitments",-1)),t("div",rs,[d(x(w),{onClick:N,class:U(["size-5 cursor-pointer",R.value?"text-gray-500 disabled":"text-gray-700"]),name:"chevron-left",disabled:R.value},null,8,["class","disabled"]),d(x(w),{onClick:I,class:U(["size-5 cursor-pointer",E.value?"text-gray-500 disabled":"text-gray-700"]),name:"chevron-right",disabled:E.value},null,8,["class","disabled"])])]),v.value?(l(),r("div",ns,[d(F),d(F),d(F)])):(l(),r("div",is,[t("div",{ref_key:"scrollContainer",ref:o,class:"py-4 w-full overflow-x-auto lg:overflow-x-visible"},[h.value.length>0?(l(),r("div",cs,[(l(!0),r(q,null,D(h.value,_=>(l(),pt(gt,{key:_.name,item:_,mode:"activity",type:"card"},null,8,["item"]))),128))])):(l(),r("div",ds,[d(vt,{message:"Your Current Commitments empty!"})]))],512),h.value.length>0&&(!R.value||!E.value)?(l(),r("div",us,s[8]||(s[8]=[t("button",{class:"border px-3 h-7 text-xs font-normal border-[#FF5722] rounded-sm text-secondary hover:bg-orange-50 transition-colors"}," View All ",-1)]))):G("",!0)]))])]),t("section",ms,[t("div",xs,[s[9]||(s[9]=t("h2",{class:"text-base sm:text-lg font-medium"},"Available Commitments",-1)),t("div",ps,[d(x(w),{onClick:M,class:U(["size-5 cursor-pointer",c.value?"text-gray-500 disabled":"text-gray-700"]),name:"chevron-left",disabled:c.value},null,8,["class","disabled"]),d(x(w),{onClick:J,class:U(["size-5 cursor-pointer",e.value?"text-gray-500 disabled":"text-gray-700"]),name:"chevron-right",disabled:e.value},null,8,["class","disabled"])])]),v.value?(l(),r("div",vs,[d(F),d(F),d(F)])):(l(),r("div",gs,[t("div",{ref_key:"scrollContainerAvailable",ref:u,class:"py-4 w-full overflow-x-auto lg:overflow-x-visible"},[p.value.length>0?(l(),r("div",fs,[(l(!0),r(q,null,D(p.value,_=>(l(),pt(gt,{key:_.name,item:_,mode:"activity"},null,8,["item"]))),128))])):(l(),r("div",hs,[d(vt,{message:"Available Commitments not Found!"})]))],512),p.value.length>0&&(!c.value||!e.value)?(l(),r("div",As,s[10]||(s[10]=[t("button",{class:"border px-3 h-7 text-xs font-normal border-[#FF5722] rounded-sm text-secondary hover:bg-orange-50 transition-colors"}," View All ",-1)]))):G("",!0)]))])]),d(Ge)])],2)],2)}}},js=ft(ys,[["__scopeId","data-v-774138bb"]]);export{js as default};
