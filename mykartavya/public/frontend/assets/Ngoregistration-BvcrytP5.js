var R=Object.defineProperty;var F=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var P=(f,n,i)=>n in f?R(f,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):f[n]=i,U=(f,n)=>{for(var i in n||(n={}))A.call(n,i)&&P(f,i,n[i]);if(F)for(var i of F(n))D.call(n,i)&&P(f,i,n[i]);return f};var b=(f,n,i)=>new Promise((s,d)=>{var g=m=>{try{v(i.next(m))}catch(h){d(h)}},k=m=>{try{v(i.throw(m))}catch(h){d(h)}},v=m=>m.done?s(m.value):Promise.resolve(m.value).then(g,k);v((i=i.apply(f,n)).next())});import{j,r as y,l as O,o as L,c as p,d as e,n as I,z,m as G,t as x,f as a,s as r,v as u,E as w,F as X,h as C,i as H,y as T,b as c}from"./index-Cu6nMMA3.js";import{l as _}from"./index-F-WGRG4t.js";const W={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 py-10"},$={class:"max-w-[1920px] mt-[20px] mx-auto p-8 bg-white rounded-xl shadow-xl"},Y={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative",role:"alert"},J={class:"block sm:inline"},K={class:"bg-indigo-50 p-6 rounded-lg"},Q={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Z=["value"],ee=["value"],oe=["value"],te=["value"],se={class:"md:col-span-3"},le={class:"bg-indigo-50 p-6 rounded-lg mt-6"},ae={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},re={class:"md:col-span-3"},ne={class:"bg-indigo-50 p-6 rounded-lg mt-6"},ie={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},de={class:"md:col-span-2"},ue={class:"flex items-center px-4 py-3 bg-white rounded-lg shadow-sm border-2 border-dashed border-gray-300 cursor-pointer hover:bg-gray-50 transition"},ge={key:0,class:"mt-2 text-sm text-gray-600"},me={class:"mt-6"},pe=["disabled"],ce={__name:"Ngoregistration",setup(f){const n=H("call"),i=T(),s=y({registration_type:"Self Registration",ngo_name:"",website:"",official_contact_number:"",email:"",designation:"",state:"",city:"",description:"",license_type:"FCRA",contact_person_name:"",ngo_head_name:"",ngo_head_email:"",ngo_head_mobile:"",ngo_head_office_number:"",area_of_work:"",address:"",pincode:"",registered_with_bigtech:"No",ngo_logo:null,country:"India"}),d=y(!1),g=y(null),k=y([]),v=y([]),m=y([]),h=y(["Education","Skills","Environment","Financial Inclusion","Accessibility and Inclusion","Disaster Management","Healthcare"]),S=()=>b(this,null,function*(){try{d.value=!0;const l=yield n("mykartavya.controllers.api.country_data");k.value=l||[],console.log("Countries fetched:",k.value)}catch(l){console.error("Error fetching countries:",l),g.value="Failed to load countries. Please try again."}finally{d.value=!1}}),V=()=>b(this,null,function*(){try{if(!s.value.country)return;d.value=!0;const l=yield n("mykartavya.controllers.api.state_data",{country:s.value.country});v.value=l||[],s.value.state="",s.value.city="",console.log("States fetched:",v.value)}catch(l){console.error("Error fetching states:",l),g.value="Failed to load states. Please try again."}finally{d.value=!1}}),B=()=>b(this,null,function*(){try{if(!s.value.state)return;d.value=!0;const l=yield n("mykartavya.controllers.api.city_data",{state:s.value.state});m.value=l||[],s.value.city="",console.log("Cities fetched:",m.value)}catch(l){console.error("Error fetching cities:",l),g.value="Failed to load cities. Please try again."}finally{d.value=!1}});O(()=>s.value.country,l=>{l&&V()}),O(()=>s.value.state,l=>{l&&B()}),L(()=>b(this,null,function*(){yield S(),s.value.country&&(yield V())}));const M=l=>b(this,null,function*(){const o=l.target.files[0];if(o)try{const t=new FormData;t.append("file",o);const N=yield n("upload_file",{file:t,is_private:0,doctype:"NGOs",fieldname:"ngo_logo"});s.value.ngo_logo=N.file_url,_.success("Logo uploaded successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1})}catch(t){console.error("Error uploading file:",t),_.error("Failed to upload logo. Please try again.",{position:"top-right",autoClose:3e3,hideProgressBar:!1})}}),q=()=>{const l=["ngo_name","email","official_contact_number","designation","country","state","city","description","contact_person_name","ngo_head_name","ngo_head_email","ngo_head_mobile","area_of_work","address","pincode"];for(const N of l)if(!s.value[N])return g.value=`Please fill in ${N.replace(/_/g," ")}.`,!1;const o=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!o.test(s.value.email)||!o.test(s.value.ngo_head_email))return g.value="Please enter valid email addresses.",!1;const t=/^\d{10}$/;return!t.test(s.value.official_contact_number)||!t.test(s.value.ngo_head_mobile)||s.value.ngo_head_office_number&&!t.test(s.value.ngo_head_office_number)?(g.value="Please enter valid 10-digit phone numbers.",!1):/^\d{6}$/.test(s.value.pincode)?!0:(g.value="Please enter a valid 6-digit pincode.",!1)},E=()=>b(this,null,function*(){try{if(g.value=null,!q())return;d.value=!0;const l=yield n("mykartavya.mykartavya.api.register_ngo",U({},s.value));l.status==="success"?(_.success("NGO Registration Successful! Please check your email for login credentials.",{position:"top-right",autoClose:5e3,hideProgressBar:!1}),setTimeout(()=>{i.push("/")},2e3)):_.error(l.message||"Failed to register NGO. Please try again.",{position:"top-right",autoClose:5e3,hideProgressBar:!1})}catch(l){console.error("Error submitting form:",l),_.error(l.message||"Failed to register NGO. Please try again.",{position:"top-right",autoClose:5e3,hideProgressBar:!1})}finally{d.value=!1}});return(l,o)=>(c(),p("div",W,[e("div",$,[e("form",{onSubmit:z(E,["prevent"]),class:I(["space-y-8",{loading:d.value}])},[g.value?(c(),p("div",Y,[e("span",J,x(g.value),1)])):G("",!0),e("div",K,[o[35]||(o[35]=e("h2",{class:"text-xl font-semibold text-indigo-800 mb-4 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),a(" Basic Information ")],-1)),e("div",Q,[e("div",null,[o[19]||(o[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("NGO Name "),e("span",{class:"text-red-500"},"*")],-1)),r(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>s.value.ngo_name=t),type:"text",placeholder:"Enter NGO Name",required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.ngo_name]])]),e("div",null,[o[20]||(o[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"NGO Website",-1)),r(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>s.value.website=t),type:"url",placeholder:"https://example.org",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.website]])]),e("div",null,[o[21]||(o[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("Official Contact Number "),e("span",{class:"text-red-500"},"*")],-1)),r(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>s.value.official_contact_number=t),type:"tel",placeholder:"+91 XXXXX XXXXX",required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.official_contact_number]])]),e("div",null,[o[22]||(o[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("Email "),e("span",{class:"text-red-500"},"*")],-1)),r(e("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>s.value.email=t),type:"email",placeholder:"ngo@example.com",required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.email]])]),e("div",null,[o[23]||(o[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("Designation "),e("span",{class:"text-red-500"},"*")],-1)),r(e("input",{"onUpdate:modelValue":o[4]||(o[4]=t=>s.value.designation=t),type:"text",placeholder:"e.g., Director, Secretary",required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.designation]])]),e("div",null,[o[25]||(o[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("License Type "),e("span",{class:"text-red-500"},"*")],-1)),r(e("select",{"onUpdate:modelValue":o[5]||(o[5]=t=>s.value.license_type=t),required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},o[24]||(o[24]=[e("option",{value:"FCRA"},"FCRA",-1),e("option",{value:"12A"},"Non-FCRA",-1)]),512),[[w,s.value.license_type]])]),e("div",null,[o[27]||(o[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("Country "),e("span",{class:"text-red-500"},"*")],-1)),r(e("select",{"onUpdate:modelValue":o[6]||(o[6]=t=>s.value.country=t),class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},[o[26]||(o[26]=e("option",{value:"",disabled:""},"Select Country",-1)),(c(!0),p(X,null,C(k.value,t=>(c(),p("option",{key:t.name,value:t.name},x(t.label||t.name),9,Z))),128))],512),[[w,s.value.country]])]),e("div",null,[o[29]||(o[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("State "),e("span",{class:"text-red-500"},"*")],-1)),r(e("select",{"onUpdate:modelValue":o[7]||(o[7]=t=>s.value.state=t),class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},[o[28]||(o[28]=e("option",{value:"",disabled:""},"Select State",-1)),(c(!0),p(X,null,C(v.value,t=>(c(),p("option",{key:t.name,value:t.name},x(t.state_name||t.name),9,ee))),128))],512),[[w,s.value.state]])]),e("div",null,[o[31]||(o[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("City "),e("span",{class:"text-red-500"},"*")],-1)),r(e("select",{"onUpdate:modelValue":o[8]||(o[8]=t=>s.value.city=t),class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},[o[30]||(o[30]=e("option",{value:"",disabled:""},"Select City",-1)),(c(!0),p(X,null,C(m.value,t=>(c(),p("option",{key:t.name,value:t.name},x(t.district_name||t.name),9,oe))),128))],512),[[w,s.value.city]])]),e("div",null,[o[33]||(o[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("Area of Work "),e("span",{class:"text-red-500"},"*")],-1)),r(e("select",{"onUpdate:modelValue":o[9]||(o[9]=t=>s.value.area_of_work=t),class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},[o[32]||(o[32]=e("option",{value:"",disabled:""},"Select Area of Work",-1)),(c(!0),p(X,null,C(h.value,t=>(c(),p("option",{key:t,value:t},x(t),9,te))),128))],512),[[w,s.value.area_of_work]])]),e("div",se,[o[34]||(o[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("Description "),e("span",{class:"text-red-500"},"*")],-1)),r(e("textarea",{"onUpdate:modelValue":o[10]||(o[10]=t=>s.value.description=t),rows:"4",placeholder:"Describe your NGO's mission and activities",required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.description]])])])]),e("div",le,[o[43]||(o[43]=e("h2",{class:"text-xl font-semibold text-indigo-800 mb-4 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),a(" Contact Information ")],-1)),e("div",ae,[e("div",null,[o[36]||(o[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("Contact Person Name "),e("span",{class:"text-red-500"},"*")],-1)),r(e("input",{"onUpdate:modelValue":o[11]||(o[11]=t=>s.value.contact_person_name=t),type:"text",placeholder:"Full Name",required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.contact_person_name]])]),e("div",null,[o[37]||(o[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("NGO Head Name "),e("span",{class:"text-red-500"},"*")],-1)),r(e("input",{"onUpdate:modelValue":o[12]||(o[12]=t=>s.value.ngo_head_name=t),type:"text",placeholder:"Full Name",required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.ngo_head_name]])]),e("div",null,[o[38]||(o[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("NGO Head Email "),e("span",{class:"text-red-500"},"*")],-1)),r(e("input",{"onUpdate:modelValue":o[13]||(o[13]=t=>s.value.ngo_head_email=t),type:"email",placeholder:"head@example.com",required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.ngo_head_email]])]),e("div",null,[o[39]||(o[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("NGO Head Mobile "),e("span",{class:"text-red-500"},"*")],-1)),r(e("input",{"onUpdate:modelValue":o[14]||(o[14]=t=>s.value.ngo_head_mobile=t),type:"tel",placeholder:"+91 XXXXX XXXXX",required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.ngo_head_mobile]])]),e("div",null,[o[40]||(o[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"NGO Head Office Number",-1)),r(e("input",{"onUpdate:modelValue":o[15]||(o[15]=t=>s.value.ngo_head_office_number=t),type:"tel",placeholder:"+91 XXXXX XXXXX",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.ngo_head_office_number]])]),e("div",null,[o[41]||(o[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("Postal Code "),e("span",{class:"text-red-500"},"*")],-1)),r(e("input",{"onUpdate:modelValue":o[16]||(o[16]=t=>s.value.pincode=t),type:"text",placeholder:"Enter PIN code",required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.pincode]])]),e("div",re,[o[42]||(o[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("Address "),e("span",{class:"text-red-500"},"*")],-1)),r(e("textarea",{"onUpdate:modelValue":o[17]||(o[17]=t=>s.value.address=t),rows:"3",placeholder:"Enter address with landmarks if any",required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},null,512),[[u,s.value.address]])])])]),e("div",ne,[o[49]||(o[49]=e("h2",{class:"text-xl font-semibold text-indigo-800 mb-4 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]),a(" Registration Details ")],-1)),e("div",ie,[e("div",null,[o[45]||(o[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[a("Registered with BigTech "),e("span",{class:"text-red-500"},"*")],-1)),r(e("select",{"onUpdate:modelValue":o[18]||(o[18]=t=>s.value.registered_with_bigtech=t),required:"",class:"w-full px-4 py-3 rounded-lg border-gray-300 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 shadow-sm transition"},o[44]||(o[44]=[e("option",{value:"Yes"},"Yes",-1),e("option",{value:"No"},"No",-1)]),512),[[w,s.value.registered_with_bigtech]])]),e("div",de,[o[48]||(o[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"NGO Logo",-1)),e("label",ue,[o[46]||(o[46]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-indigo-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),o[47]||(o[47]=e("span",{class:"text-sm text-gray-600"},"Upload NGO Logo (PNG, JPG up to 2MB)",-1)),e("input",{type:"file",class:"hidden",onChange:M,accept:"image/*"},null,32)]),s.value.ngo_logo?(c(),p("div",ge," Selected file: "+x(s.value.ngo_logo.name),1)):G("",!0)])])]),e("div",me,[e("button",{type:"submit",class:"w-[600px] flex justify-center mx-auto items-center text-white py-4 px-8 rounded-lg text-lg font-semibold shadow-md transition duration-300 transform hover:-translate-y-1",disabled:d.value,style:{background:"#FF5722"}},x(d.value?"Registering...":"Register NGO"),9,pe)])],34)])]))}},ye=j(ce,[["__scopeId","data-v-07192c7c"]]);export{ye as default};
