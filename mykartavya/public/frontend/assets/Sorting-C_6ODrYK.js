var S=(_,c,g)=>new Promise((a,o)=>{var L=y=>{try{u(g.next(y))}catch(p){o(p)}},U=y=>{try{u(g.throw(y))}catch(p){o(p)}},u=y=>y.done?a(y.value):Promise.resolve(y.value).then(L,U);u((g=g.apply(_,c)).next())});import{j as B,c as d,b as r,g as I,r as C,C as T,i as A,l as K,o as q,d as t,n as x,p as F,F as b,h as V,u as n,x as J,m as h,t as k,s as f,ae as $,f as j,ac as z,w as m,e as v,af as G,_ as M,ag as N,ah as O,ai as P,aj as E}from"./index-CeIEzR2z.js";const Q="/assets/mykartavya/frontend/assets/sdgall-cuCfGsPH.png",W={},X={class:"w-full h-full"};function Y(_,c){return r(),d("div",X,c[0]||(c[0]=[I('<div class="flex w-full flex-col items-center gap-3 justify-center h-full"><div class="h-2/5 w-full flex flex-col gap-3"><div class="w-1/4 rounded-md h-5 bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div></div><div class="h-[30%] w-full flex flex-col gap-3"><div class="w-1/2 rounded-md h-5 bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div></div><div class="h-[30%] w-full flex flex-col gap-3"><div class="w-1/3 rounded-md h-5 bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div></div></div>',1)]))}const Z=B(W,[["render",Y]]),ee={class:"bg-white relative px-4"},se={class:"flex sticky top-0 bg-white z-20 justify-between items-center py-3"},te=["disabled"],ae={class:"flex flex-col"},oe={class:"flex flex-col border-t"},le={class:"text-[14px] font-medium mb-2 pt-2"},ne={class:"flex flex-col gap-3 pb-2"},re={key:0,class:"flex px-2 items-center gap-2 text-sm"},ie={class:"flex px-2 items-center gap-2 text-sm"},de=["onUpdate:modelValue","value","type","name","id"],ce=["for"],ue=["src","alt"],ge={key:1,class:"w-[21px] h-[21px] min-w-[21px] text-[11px] font-normal rounded-full bg-gray-100 flex items-center justify-center"},pe={key:1,class:"flex px-2 items-center gap-2 text-sm"},fe={class:"w-full block lg:hidden px-4 py-3"},ye={class:"flex gap-1 flex-wrap"},me={key:0,class:"flex px-2 items-center py-1 gap-2 text-sm"},ve={class:"flex px-2 py-1 items-center gap-2 text-sm"},he=["onUpdate:modelValue","value","type","name","id"],xe=["for"],be={key:1,class:"flex px-2 items-center py-1 gap-2 text-sm"},ke={__name:"Filters",setup(_){const c=A("call"),g=C(!1),a=C(!0),o=A("store"),L=J(),U=C([]),u=C([{name:"SDGs",type:"checkbox",key:"sdgs",options:[]},{name:"Activity Type",type:"checkbox",key:"activity_type",options:[{name:"Online"},{name:"On-Ground"}]}]),y=()=>S(this,null,function*(){g.value=!0;try{const i=yield c("mykartavya.controllers.api.sdg_data");U.value=i;const s=u.value.find(e=>e.key==="sdgs");s&&(s.options=i.map(e=>({name:e.name,sdg_image:e.sdg_image})),setTimeout(()=>{g.value=!1},500))}catch(i){g.value=!1,console.error("Error fetching SDG data:",i)}}),p=T({get:()=>{const i=u.value.find(s=>s.key==="sdgs");return i&&o.filters.sdgs.length===i.options.length},set:i=>{const s=u.value.find(e=>e.key==="sdgs");o.filters.sdgs=i&&s?[...s.options.map(e=>e.name)]:[]}}),H=T({get:()=>{const i=u.value.find(s=>s.key==="activity_type");return i&&o.filters.activity_type.length===i.options.length},set:i=>{const s=u.value.find(e=>e.key==="activity_type");o.filters.activity_type=i&&s?[...s.options.map(e=>e.name)]:[]}}),D=()=>{o.filters={sdgs:[],volunteering_hours:"",activity_type:[],karma_points:""}};return K(o.filters,i=>{a.value=Object.values(i).every(s=>Array.isArray(s)?s.length===0:s==="")},{deep:!0,immediate:!0}),q(y),(i,s)=>(r(),d(b,null,[t("aside",{class:x([[n(L).fullPath=="/kindness-volunteering"?"pb-[92px]":"pb-[62px]"],"w-[270px] min-w-[270px] fixed overflow-auto h-screen hidden lg:block border-r border-gray-200"])},[t("div",ee,[t("div",se,[s[6]||(s[6]=t("h3",{class:"text-lg font-medium"},"Filter by",-1)),t("button",{disabled:a.value,class:x([a.value?"text-gray-500":"text-[#E86C13]","text-sm"]),onClick:s[0]||(s[0]=e=>D())}," Clear All ",10,te)]),t("div",ae,[g.value?(r(),F(Z,{key:0})):(r(!0),d(b,{key:1},V(u.value,e=>(r(),d("div",oe,[t("h4",le,k(e.name),1),t("div",ne,[e.key==="sdgs"?(r(),d("div",re,[f(t("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>p.value=l),type:"checkbox",class:"rounded-sm h-4 w-4 min-w-4 max-w-4 min-h-4 max-h-4 focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"all-sdgs"},null,512),[[$,p.value]]),s[7]||(s[7]=t("label",{class:"text-[12px] cursor-pointer font-normal flex gap-1 items-center",for:"all-sdgs"},[t("img",{src:Q,alt:"el",class:"w-[21px] h-[21px] min-w-[21px] min-h-[21px] rounded-full object-cover"}),j(" All ")],-1))])):h("",!0),(r(!0),d(b,null,V(e.options,l=>{var w;return r(),d("div",ie,[f(t("input",{"onUpdate:modelValue":R=>n(o).filters[e.key]=R,value:l.name,type:e.type,name:e.key,class:x([e.type=="checkbox"?"rounded-sm":"rounded-full","focus:ring-[#E86C13] h-4 w-4 min-w-4 max-w-4 min-h-4 max-h-4 focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary"]),id:`${e.key}-${l.name.toLowerCase().replace(" ","-")}`},null,10,de),[[z,n(o).filters[e.key]]]),t("label",{class:"text-[12px] font-normal cursor-pointer flex items-center gap-1",for:`${e.key}-${l.name.toLowerCase().replace(" ","-")}`},[l.sdg_image&&e.key=="sdgs"?(r(),d("img",{key:0,src:l.sdg_image,alt:l,class:"w-[21px] h-[21px] min-w-[21px] rounded-full object-cover bg-white"},null,8,ue)):h("",!0),!l.sdg_image&&e.key=="sdgs"?(r(),d("div",ge,k((w=l==null?void 0:l.name)==null?void 0:w.charAt(0)),1)):h("",!0),j(" "+k(l.name),1)],8,ce)])}),256)),e.key==="activity_type"?(r(),d("div",pe,[f(t("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>H.value=l),type:"checkbox",class:"rounded-sm focus:ring-[#E86C13] h-4 w-4 min-w-4 max-h-4 focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"both-activity_type"},null,512),[[$,H.value]]),s[8]||(s[8]=t("label",{class:"text-[12px] font-normal",for:"both-activity_type"},"Both",-1))])):h("",!0)])]))),256))])])],2),t("div",fe,[t("div",ye,[(r(!0),d(b,null,V(u.value,e=>(r(),F(n(P),{as:"div",class:"relative inline-block text-left"},{default:m(()=>[t("div",null,[v(n(G),{class:x([(Array.isArray(n(o).filters[e.key])?n(o).filters[e.key].length>0:n(o).filters[e.key])?"ring-[#E86C13] text-[#E86C13]":"ring-gray-300","inline-flex w-full justify-center gap-x-1.5 truncate rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 shadow-xs ring-inset hover:bg-gray-50"])},{default:m(()=>[j(k(e.name)+" ",1),v(n(M),{class:"size-4",name:"chevron-down"})]),_:2},1032,["class"])]),v(N,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:m(()=>[v(n(O),{class:"absolute p-1 max-h-72 overflow-auto left-0 z-10 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white ring-1 shadow-lg ring-black/5 focus:outline-hidden"},{default:m(()=>[e.key==="sdgs"?(r(),d("div",me,[f(t("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>p.value=l),type:"checkbox",class:"rounded-sm focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"all-sdgs"},null,512),[[$,p.value]]),s[9]||(s[9]=t("label",{class:"text-[12px] font-normal",for:"all-sdgs"},"All",-1))])):h("",!0),(r(!0),d(b,null,V(e.options,l=>(r(),d("div",ve,[f(t("input",{"onUpdate:modelValue":w=>n(o).filters[e.key]=w,value:l.name,type:e.type,name:e.key,class:x([e.type=="checkbox"?"rounded-sm":"rounded-full","focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary"]),id:`${e.key}-${l.name.toLowerCase().replace(" ","-")}`},null,10,he),[[z,n(o).filters[e.key]]]),t("label",{for:`${e.key}-${l.name.toLowerCase().replace(" ","-")}`},k(l.name),9,xe)]))),256)),e.key==="activity_type"?(r(),d("div",be,[f(t("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>p.value=l),type:"checkbox",class:"rounded-sm focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"both-activity_type"},null,512),[[$,p.value]]),s[10]||(s[10]=t("label",{class:"text-[12px] font-normal",for:"both-activity_type"},"Both",-1))])):h("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),a.value?h("",!0):(r(),d("button",{key:0,class:"border truncate rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-700",onClick:s[5]||(s[5]=e=>D())},"Clear All"))])])],64))}},Le=B(ke,[["__scopeId","data-v-0bcf3689"]]),_e={class:"flex px-2 py-1 items-center gap-2 text-sm"},we={class:"flex px-2 py-1 items-center gap-2 text-sm"},Ce={class:"flex px-2 py-1 items-center gap-2 text-sm"},Ve={class:"flex px-2 py-1 items-center gap-2 text-sm"},Ue={__name:"Sorting",setup(_){const c=A("store");return(g,a)=>(r(),F(n(P),{as:"div",class:"relative inline-block text-left"},{default:m(()=>[t("div",null,[v(n(G),{class:x("inline-flex w-full justify-center gap-x-1.5 truncate rounded-md bg-gray-300 p-2 text-sm font-semibold text-gray-900 shadow-xs")},{default:m(()=>[v(n(M),{class:"size-4 text-black",name:"align-right"})]),_:1})]),v(N,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:m(()=>[v(n(O),{class:"absolute p-1 max-h-72 overflow-auto right-0 z-10 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white ring-1 shadow-lg ring-black/5 focus:outline-hidden"},{default:m(()=>[a[8]||(a[8]=t("p",{class:"text-base px-2 py-1 font-normal"},"Karma Points",-1)),t("div",_e,[f(t("input",{name:"karma_points","onUpdate:modelValue":a[0]||(a[0]=o=>n(c).filters.karma_points=o),type:"radio",value:"Low to High",class:"focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"karma-low-to-high"},null,512),[[E,n(c).filters.karma_points]]),a[4]||(a[4]=t("label",{for:"karma-low-to-high"},"Low to High",-1))]),t("div",we,[f(t("input",{name:"karma_points","onUpdate:modelValue":a[1]||(a[1]=o=>n(c).filters.karma_points=o),type:"radio",value:"High to Low",class:"focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"karma-high-to-low"},null,512),[[E,n(c).filters.karma_points]]),a[5]||(a[5]=t("label",{for:"karma-high-to-low"},"High to Low",-1))]),a[9]||(a[9]=t("p",{class:"text-base px-2 py-1 font-normal"},"Volunteering Hours",-1)),t("div",Ce,[f(t("input",{"onUpdate:modelValue":a[2]||(a[2]=o=>n(c).filters.volunteering_hours=o),type:"radio",name:"volunteering_hours",value:"Low to High",class:"focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"volunteering-low-to-high"},null,512),[[E,n(c).filters.volunteering_hours]]),a[6]||(a[6]=t("label",{for:"volunteering-low-to-high"},"Low to High",-1))]),t("div",Ve,[f(t("input",{"onUpdate:modelValue":a[3]||(a[3]=o=>n(c).filters.volunteering_hours=o),type:"radio",name:"volunteering_hours",value:"High to Low",class:"focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"volunteering-high-to-low"},null,512),[[E,n(c).filters.volunteering_hours]]),a[7]||(a[7]=t("label",{for:"volunteering-high-to-low"},"High to Low",-1))])]),_:1})]),_:1})]),_:1}))}};export{Le as F,Ue as _};
