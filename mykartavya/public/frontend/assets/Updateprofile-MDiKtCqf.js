var Be=Object.defineProperty;var ie=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var ae=(e,t,l)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,oe=(e,t)=>{for(var l in t||(t={}))De.call(t,l)&&ae(e,l,t[l]);if(ie)for(var l of ie(t))Pe.call(t,l)&&ae(e,l,t[l]);return e};var x=(e,t,l)=>new Promise((h,v)=>{var p=w=>{try{a(l.next(w))}catch(F){v(F)}},r=w=>{try{a(l.throw(w))}catch(F){v(F)}},a=w=>w.done?h(w.value):Promise.resolve(w.value).then(p,r);a((l=l.apply(e,t)).next())});import{p as L,j as c,aa as S,b as y,D as m,m as _,v as B,ae as T,F as j,h as q,t as g,y as C,af as re,w as W,f as D,_ as Fe,r as k,s as H,l as ne,o as Me,c as b,a as o,u as N,i as ue,n as I,B as Ee,x as de,ag as Ae,a4 as Te}from"./index-CMcpUcH1.js";import{_ as He}from"./Rectangle-Cxb5RPqE.js";import{l as $}from"./index-Baxexf0w.js";/* empty css              */import{S as Ne,c as je}from"./SearchableSelect-BIP0RsPI.js";function R(e){return e===0?!1:Array.isArray(e)&&e.length===0?!0:!e}function qe(e){return(...t)=>!e(...t)}function Ge(e,t){return e===void 0&&(e="undefined"),e===null&&(e="null"),e===!1&&(e="false"),e.toString().toLowerCase().indexOf(t.trim())!==-1}function he(e,t,l,h){return t?e.filter(v=>Ge(h(v,l),t)).sort((v,p)=>h(v,l).length-h(p,l).length):e}function ze(e){return e.filter(t=>!t.$isLabel)}function Y(e,t){return l=>l.reduce((h,v)=>v[e]&&v[e].length?(h.push({$groupLabel:v[t],$isLabel:!0}),h.concat(v[e])):h,[])}function Ke(e,t,l,h,v){return p=>p.map(r=>{if(!r[l])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const a=he(r[l],e,t,v);return a.length?{[h]:r[h],[l]:a}:[]})}const ce=(...e)=>t=>e.reduce((l,h)=>h(l),t);var Ue={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(e,t){return R(e)?"":t?e[t]:e}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const e=this.search||"",t=e.toLowerCase().trim();let l=this.options.concat();return this.internalSearch?l=this.groupValues?this.filterAndFlat(l,t,this.label):he(l,t,this.label,this.customLabel):l=this.groupValues?Y(this.groupValues,this.groupLabel)(l):l,l=this.hideSelected?l.filter(qe(this.isSelected)):l,this.taggable&&t.length&&!this.isExistingOption(t)&&(this.tagPosition==="bottom"?l.push({isTag:!0,label:e}):l.unshift({isTag:!0,label:e})),l.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(e=>e[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(t=>this.customLabel(t,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(e,t,l){return ce(Ke(t,l,this.groupValues,this.groupLabel,this.customLabel),Y(this.groupValues,this.groupLabel))(e)},flatAndStrip(e){return ce(Y(this.groupValues,this.groupLabel),ze)(e)},updateSearch(e){this.search=e},isExistingOption(e){return this.options?this.optionKeys.indexOf(e)>-1:!1},isSelected(e){const t=this.trackBy?e[this.trackBy]:e;return this.valueKeys.indexOf(t)>-1},isOptionDisabled(e){return!!e.$isDisabled},getOptionLabel(e){if(R(e))return"";if(e.isTag)return e.label;if(e.$isLabel)return e.$groupLabel;const t=this.customLabel(e,this.label);return R(t)?"":t},select(e,t){if(e.$isLabel&&this.groupSelect){this.selectGroup(e);return}if(!(this.blockKeys.indexOf(t)!==-1||this.disabled||e.$isDisabled||e.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(t==="Tab"&&!this.pointerDirty)){if(e.isTag)this.$emit("tag",e.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(e)){t!=="Tab"&&this.removeElement(e);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([e])):this.$emit("update:modelValue",e),this.$emit("select",e,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(e){const t=this.options.find(l=>l[this.groupLabel]===e.$groupLabel);if(t){if(this.wholeGroupSelected(t)){this.$emit("remove",t[this.groupValues],this.id);const l=this.internalValue.filter(h=>t[this.groupValues].indexOf(h)===-1);this.$emit("update:modelValue",l)}else{let l=t[this.groupValues].filter(h=>!(this.isOptionDisabled(h)||this.isSelected(h)));this.max&&l.splice(this.max-this.internalValue.length),this.$emit("select",l,this.id),this.$emit("update:modelValue",this.internalValue.concat(l))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(e){return e[this.groupValues].every(t=>this.isSelected(t)||this.isOptionDisabled(t))},wholeGroupDisabled(e){return e[this.groupValues].every(this.isOptionDisabled)},removeElement(e,t=!0){if(this.disabled||e.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const l=typeof e=="object"?this.valueKeys.indexOf(e[this.trackBy]):this.valueKeys.indexOf(e);if(this.multiple){const h=this.internalValue.slice(0,l).concat(this.internalValue.slice(l+1));this.$emit("update:modelValue",h)}else this.$emit("update:modelValue",null);this.$emit("remove",e,this.id),this.closeOnSelect&&t&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el!="undefined"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search!="undefined"&&this.$refs.search.blur():typeof this.$el!="undefined"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window=="undefined")return;const e=this.$el.getBoundingClientRect().top,t=window.innerHeight-this.$el.getBoundingClientRect().bottom;t>this.maxHeight||t>e||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(t-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(e-40,this.maxHeight))}}},Ie={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(e,t){return{"multiselect__option--highlight":e===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(t)}},groupHighlight(e,t){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":t.$isLabel}];const l=this.options.find(h=>h[this.groupLabel]===t.$groupLabel);return l&&!this.wholeGroupDisabled(l)?["multiselect__option--group",{"multiselect__option--highlight":e===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(l)}]:"multiselect__option--disabled"},addPointerElement({key:e}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],e),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(e){this.pointer=e,this.pointerDirty=!0}}},pe={name:"vue-multiselect",mixins:[Ue,Ie],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:e=>`and ${e} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)}}};const Re={ref:"tags",class:"multiselect__tags"},Ye={class:"multiselect__tags-wrap"},We={class:"multiselect__spinner"},Je={key:0},Qe={class:"multiselect__option"},Ze={class:"multiselect__option"},Xe=D("No elements found. Consider changing the search query."),et={class:"multiselect__option"},tt=D("List is empty.");function st(e,t,l,h,v,p){return c(),L("div",{tabindex:e.searchable?-1:l.tabindex,class:[{"multiselect--active":e.isOpen,"multiselect--disabled":l.disabled,"multiselect--above":p.isAbove,"multiselect--has-options-group":p.hasOptionGroup},"multiselect"],onFocus:t[14]||(t[14]=r=>e.activate()),onBlur:t[15]||(t[15]=r=>e.searchable?!1:e.deactivate()),onKeydown:[t[16]||(t[16]=C(m(r=>e.pointerForward(),["self","prevent"]),["down"])),t[17]||(t[17]=C(m(r=>e.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:t[18]||(t[18]=C(m(r=>e.addPointerElement(r),["stop","self"]),["enter","tab"])),onKeyup:t[19]||(t[19]=C(r=>e.deactivate(),["esc"])),role:"combobox","aria-owns":"listbox-"+e.id},[S(e.$slots,"caret",{toggle:e.toggle},()=>[y("div",{onMousedown:t[1]||(t[1]=m(r=>e.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),S(e.$slots,"clear",{search:e.search}),y("div",Re,[S(e.$slots,"selection",{search:e.search,remove:e.removeElement,values:p.visibleValues,isOpen:e.isOpen},()=>[B(y("div",Ye,[(c(!0),L(j,null,q(p.visibleValues,(r,a)=>S(e.$slots,"tag",{option:r,search:e.search,remove:e.removeElement},()=>[(c(),L("span",{class:"multiselect__tag",key:a},[y("span",{textContent:g(e.getOptionLabel(r))},null,8,["textContent"]),y("i",{tabindex:"1",onKeypress:C(m(w=>e.removeElement(r),["prevent"]),["enter"]),onMousedown:m(w=>e.removeElement(r),["prevent"]),class:"multiselect__tag-icon"},null,40,["onKeypress","onMousedown"])]))])),256))],512),[[T,p.visibleValues.length>0]]),e.internalValue&&e.internalValue.length>l.limit?S(e.$slots,"limit",{key:0},()=>[y("strong",{class:"multiselect__strong",textContent:g(l.limitText(e.internalValue.length-l.limit))},null,8,["textContent"])]):_("v-if",!0)]),y(re,{name:"multiselect__loading"},{default:W(()=>[S(e.$slots,"loading",{},()=>[B(y("div",We,null,512),[[T,l.loading]])])]),_:3}),e.searchable?(c(),L("input",{key:0,ref:"search",name:l.name,id:e.id,type:"text",autocomplete:"off",spellcheck:!1,placeholder:e.placeholder,style:p.inputStyle,value:e.search,disabled:l.disabled,tabindex:l.tabindex,onInput:t[2]||(t[2]=r=>e.updateSearch(r.target.value)),onFocus:t[3]||(t[3]=m(r=>e.activate(),["prevent"])),onBlur:t[4]||(t[4]=m(r=>e.deactivate(),["prevent"])),onKeyup:t[5]||(t[5]=C(r=>e.deactivate(),["esc"])),onKeydown:[t[6]||(t[6]=C(m(r=>e.pointerForward(),["prevent"]),["down"])),t[7]||(t[7]=C(m(r=>e.pointerBackward(),["prevent"]),["up"])),t[9]||(t[9]=C(m(r=>e.removeLastElement(),["stop"]),["delete"]))],onKeypress:t[8]||(t[8]=C(m(r=>e.addPointerElement(r),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+e.id},null,44,["name","id","placeholder","value","disabled","tabindex","aria-controls"])):_("v-if",!0),p.isSingleLabelVisible?(c(),L("span",{key:1,class:"multiselect__single",onMousedown:t[10]||(t[10]=m((...r)=>e.toggle&&e.toggle(...r),["prevent"]))},[S(e.$slots,"singleLabel",{option:p.singleValue},()=>[D(g(e.currentOptionLabel),1)])],32)):_("v-if",!0),p.isPlaceholderVisible?(c(),L("span",{key:2,class:"multiselect__placeholder",onMousedown:t[11]||(t[11]=m((...r)=>e.toggle&&e.toggle(...r),["prevent"]))},[S(e.$slots,"placeholder",{},()=>[D(g(e.placeholder),1)])],32)):_("v-if",!0)],512),y(re,{name:"multiselect"},{default:W(()=>[B(y("div",{class:"multiselect__content-wrapper",onFocus:t[12]||(t[12]=(...r)=>e.activate&&e.activate(...r)),tabindex:"-1",onMousedown:t[13]||(t[13]=m(()=>{},["prevent"])),style:{maxHeight:e.optimizedHeight+"px"},ref:"list"},[y("ul",{class:"multiselect__content",style:p.contentStyle,role:"listbox",id:"listbox-"+e.id},[S(e.$slots,"beforeList"),e.multiple&&e.max===e.internalValue.length?(c(),L("li",Je,[y("span",Qe,[S(e.$slots,"maxElements",{},()=>[D("Maximum of "+g(e.max)+" options selected. First remove a selected option to select another.",1)])])])):_("v-if",!0),!e.max||e.internalValue.length<e.max?(c(!0),L(j,{key:1},q(e.filteredOptions,(r,a)=>(c(),L("li",{class:"multiselect__element",key:a,id:e.id+"-"+a,role:r&&(r.$isLabel||r.$isDisabled)?null:"option"},[r&&(r.$isLabel||r.$isDisabled)?_("v-if",!0):(c(),L("span",{key:0,class:[e.optionHighlight(a,r),"multiselect__option"],onClick:m(w=>e.select(r),["stop"]),onMouseenter:m(w=>e.pointerSet(a),["self"]),"data-select":r&&r.isTag?e.tagPlaceholder:p.selectLabelText,"data-selected":p.selectedLabelText,"data-deselect":p.deselectLabelText},[S(e.$slots,"option",{option:r,search:e.search,index:a},()=>[y("span",null,g(e.getOptionLabel(r)),1)])],42,["onClick","onMouseenter","data-select","data-selected","data-deselect"])),r&&(r.$isLabel||r.$isDisabled)?(c(),L("span",{key:1,"data-select":e.groupSelect&&p.selectGroupLabelText,"data-deselect":e.groupSelect&&p.deselectGroupLabelText,class:[e.groupHighlight(a,r),"multiselect__option"],onMouseenter:m(w=>e.groupSelect&&e.pointerSet(a),["self"]),onMousedown:m(w=>e.selectGroup(r),["prevent"])},[S(e.$slots,"option",{option:r,search:e.search,index:a},()=>[y("span",null,g(e.getOptionLabel(r)),1)])],42,["data-select","data-deselect","onMouseenter","onMousedown"])):_("v-if",!0)],8,["id","role"]))),128)):_("v-if",!0),B(y("li",null,[y("span",Ze,[S(e.$slots,"noResult",{search:e.search},()=>[Xe])])],512),[[T,l.showNoResults&&e.filteredOptions.length===0&&e.search&&!l.loading]]),B(y("li",null,[y("span",et,[S(e.$slots,"noOptions",{},()=>[tt])])],512),[[T,l.showNoOptions&&(e.options.length===0||p.hasOptionGroup===!0&&e.filteredOptions.length===0)&&!e.search&&!l.loading]]),S(e.$slots,"afterList")],12,["id"])],36),[[T,e.isOpen]])]),_:3})],42,["tabindex","aria-owns"])}pe.render=st;const lt={class:"max-w-[1920px] mx-auto px-10 pt-[82px] pb-4 bg-gray-50"},it={class:"h-[261px] rounded-b-md bg-white"},at={class:"relative"},ot={class:"w-full h-[152px] relative"},rt=["src"],nt={key:1,src:He,alt:"Banner",class:"w-full h-full object-cover"},ut={class:"absolute bottom-4 right-4 bg-white/90 hover:bg-white px-3 py-1.5 rounded-md shadow-sm cursor-pointer flex items-center space-x-2 transition-all"},dt={class:"absolute left-8 -bottom-8"},ct={class:"relative"},ht={class:"w-32 h-32 rounded-full border-4 border-white overflow-hidden"},pt=["src"],mt={key:1,class:"w-full h-full bg-gray-200 flex items-center justify-center text-[40px] text-gray-600"},ft={class:"absolute bottom-0 right-0 bg-white rounded-full p-1.5 shadow-md cursor-pointer hover:bg-gray-50 transition-all"},gt={class:"pt-10 px-4"},vt={class:"flex justify-between items-center"},bt={class:"text-3xl font-medium"},yt={class:"text-bodyh1 text-gray-600 mt-1"},_t={class:"flex items-center space-x-2"},wt={class:"bg-white rounded-lg shadow mt-4"},kt={class:"p-6"},St={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},Ot={class:"block text-bodyh1 font-normal text-gray-700 mb-2"},Vt={key:0,class:"text-red-500"},xt={key:0,class:"flex"},Lt={key:0,class:"relative"},$t={class:"relative country-code-wrapper"},Ct={class:"flex items-center gap-2 flex-1"},Bt={key:0,class:"absolute left-0 z-50 w-[280px] max-h-60 bg-white border border-gray-200 rounded-md shadow-lg mt-1"},Dt={class:"p-2 border-b"},Pt={class:"overflow-y-auto max-h-[188px] country-dropdown"},Ft=["onClick"],Mt={class:"w-6"},Et={class:"text-gray-600"},At={class:"text-gray-500 ml-auto"},Tt=["onUpdate:modelValue","type","name","placeholder","readonly","maxlength","disabled","onChange"],Ht=["max","min"],Nt={key:2,class:"flex flex-col"},jt={class:"flex items-center px-4 py-3 bg-white rounded-lg shadow-sm border-2 border-dashed border-gray-300 cursor-pointer hover:bg-gray-50 transition"},qt={class:"text-sm text-gray-600"},Gt=["onChange"],zt={key:0,class:"mt-2 p-4 bg-gray-50 rounded-lg border border-gray-200"},Kt={class:"flex items-center justify-between"},Ut={class:"flex items-center space-x-3"},It={class:"text-sm text-gray-600"},Rt=["onClick"],Yt={key:4,class:"w-full"},Wt={slot:"selection"},Jt={key:0,class:"multiselect__single"},Qt={key:5,class:"text-red-500 text-[11px] mt-1"},Zt={class:"mt-8 flex justify-start"},Xt=["disabled"],es={key:0,class:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},ts={__name:"Updateprofile",setup(e){const t=ue("call"),l=ue("auth"),h=Ee(),v=k(null),p=k(je),r=k({first_name:{label:"First Name",type:"text",required:!0,pattern:/^[A-Za-z]+$/,error_message:"Please enter a valid first name (letters only)",maxLength:100},last_name:{label:"Last Name",type:"text",required:!1,maxLength:100},custom_phone_number:{label:"Phone Number",type:"tel",required:!0,pattern:/^[0-9]{10}$/,error_message:"Please enter a valid 10-digit phone number",maxLength:15},custom_country:{label:"Country",type:"select",required:!0},custom_state:{label:"State",type:"select",required:!0},custom_city:{label:"City",type:"select",required:!0},custom_company:{label:"Organization",type:"select",required:!1,readonly:!1},custom_date_of_birth:{label:"Date of Birth",type:"date",required:!0,min:"1900-01-01",max:new Date().toISOString().split("T")[0],max:"maxDate",error_message:"You must be at least 18 years old"},custom_gender:{label:"Gender",type:"select",required:!0,options:[{name:"Male",label:"Male"},{name:"Female",label:"Female"},{name:"Other",label:"Other"}]},custom_designation:{label:"Designation",type:"text",placeholder:"Enter your title",required:!1},custom_linkedin:{label:"LinkedIn",type:"text",required:!1},custom_cv:{label:"CV",type:"file",required:!1},custom_portfolio:{label:"Portfolio",type:"file",required:!1},custom_skill:{label:"Skills",type:"multiselect",required:!0}}),a=k({first_name:"",last_name:"",custom_phone_number:"",country_code:"+91",custom_country:"",custom_state:"",custom_city:"",custom_company:"",custom_date_of_birth:"",custom_linkedin:"",custom_cv:"",custom_portfolio:"",custom_gender:"",custom_designation:"",custom_skill:[]}),w=H(()=>{const s=oe({},r.value);return a.value.custom_company?s.custom_company.readonly=!0:delete s.custom_company,s}),F=H(()=>{const s=new Date;return s.setFullYear(s.getFullYear()-18),s.toISOString().split("T")[0]}),me=H(()=>{const s=new Date;return s.setFullYear(s.getFullYear()-100),s.toISOString().split("T")[0]}),O=k({}),J=k([]),Q=k([]),Z=k([]),X=k([]),G=k([]),M=k(!1),P=k(""),fe=()=>x(this,null,function*(){const s=yield t("mykartavya.controllers.api.country_data");J.value=s||[]}),ge=()=>x(this,null,function*(){if(!a.value.custom_country)return;const s=yield t("mykartavya.controllers.api.state_data",{country:a.value.custom_country});Q.value=s||[]}),ve=()=>x(this,null,function*(){if(!a.value.custom_state)return;const s=yield t("mykartavya.controllers.api.city_data",{state:a.value.custom_state});Z.value=s||[]}),be=()=>x(this,null,function*(){const s=yield t("mykartavya.controllers.api.company_data");X.value=s||[]}),ee=()=>x(this,null,function*(){try{const s=yield t("mykartavya.controllers.api.get_all_skills");G.value=s||[]}catch(s){console.error("Error fetching skills:",s),$.error("Failed to load skills. Please try again.")}});ne(()=>a.value.custom_country,ge),ne(()=>a.value.custom_state,ve);const ye=()=>x(this,null,function*(){try{yield ee();let s=yield t("mykartavya.controllers.api.sva_user_data");if(s&&s.length>0){if(a.value=s[0],a.value.custom_phone_number&&a.value.custom_phone_number.includes("-")){const[i,n]=a.value.custom_phone_number.split("-");a.value.country_code=i,a.value.custom_phone_number=n}a.value.custom_skill&&a.value.custom_skill.length>0?a.value.custom_skill=a.value.custom_skill.map(i=>{const n=G.value.find(u=>u.name===i);return n?{name:n.name,label:n.skill_name}:i}):a.value.custom_skill=[],P.value=s[0].workflow_state||"Not Set",l.cookie.name=s[0].name}else throw new Error("Failed to load user details.")}catch(s){console.error("Error fetching user details:",s),$.error("Failed to load user details. Please try again.",{autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}}),_e=()=>{var i;O.value={};let s=!0;for(const n in a.value){const u=w.value[n],d=a.value[n];if(u){if(u.required&&!d&&(O.value[n]=`${u.label} is required.`,s=!1,v.value||(v.value=n)),n==="custom_date_of_birth"&&d){const f=new Date(d),V=new Date,U=V.getFullYear()-f.getFullYear(),le=V.getMonth()-f.getMonth();le<0||le===0&&V.getDate()<f.getDate()?U-1<18&&(O.value[n]="You must be at least 18 years old",s=!1):U<18&&(O.value[n]="You must be at least 18 years old",s=!1),U>100&&(O.value[n]="Please enter a valid date of birth",s=!1)}if(n==="custom_phone_number"){const f=d==null?void 0:d.trim();(i=u.pattern)!=null&&i.test(f)||((f==null?void 0:f.length)===0?O.value[n]="Phone number is required.":(f==null?void 0:f.length)!==10?O.value[n]="Phone number must be exactly 10 digits.":O.value[n]=u.error_message,s=!1)}n==="first_name"&&u.pattern&&!u.pattern.test(d)&&(O.value[n]=u.error_message,s=!1),n==="last_name"&&d&&u.pattern&&!u.pattern.test(d)&&(O.value[n]=u.error_message,s=!1)}}return s},we=()=>x(this,null,function*(){if(!_e()){ke();return}M.value=!0;try{const s=a.value.country_code||"+91",i=a.value.custom_phone_number||"",n=`${s}-${i}`,u=a.value.custom_skill.map(V=>typeof V=="object"?V.name:V),d={name:a.value.name,first_name:a.value.first_name,last_name:a.value.last_name||"",custom_phone_number:n,custom_date_of_birth:a.value.custom_date_of_birth,custom_country:a.value.custom_country,custom_state:a.value.custom_state,custom_city:a.value.custom_city,custom_company:a.value.custom_company||"",custom_designation:a.value.custom_designation||"",custom_linkedin:a.value.custom_linkedin||"",custom_portfolio:a.value.custom_portfolio||"",custom_cv:a.value.custom_cv||"",custom_gender:a.value.custom_gender,user_image:a.value.user_image||"",custom_background_image:a.value.custom_background_image||"",custom_skill:u||[]};let f=yield t("mykartavya.controllers.api.update_sva_user",{data:d});if(f.status==200)yield $.success("Profile updated successfully!",{autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),setTimeout(()=>{h.push("/").then(()=>{window.location.reload()})},1e3);else throw new Error(f.message||"Failed to update profile")}catch(s){console.error("Error in form submission:",s),$.error(s.message||"An error occurred while updating the profile.",{autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}finally{M.value=!1}}),te=s=>{switch(s){case"custom_country":return J.value.map(i=>({name:i.name,label:i.label||i.name}));case"custom_state":return Q.value.map(i=>({name:i.name,label:i.state_name||i.name}));case"custom_city":return Z.value.map(i=>({name:i.name,label:i.district_name||i.name}));case"custom_company":return X.value.map(i=>({name:i.name,label:i.company_name||i.name}));case"custom_gender":return r.value.custom_gender.options;case"country_code":return r.value.country_code.options;case"custom_skill":return G.value.map(i=>({name:i.name,label:i.skill_name}));default:return[]}};Me(()=>x(this,null,function*(){fe(),be(),ee(),ye(),localStorage.getItem("updateprofile")=="true"&&($.error("Please update your profile to continue.",{autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),localStorage.removeItem("updateprofile")),document.addEventListener("click",s=>{const i=document.querySelector(".country-code-wrapper");i!=null&&i.contains(s.target)||(A.value=!1,E.value="")}),document.addEventListener("click",s=>{const i=document.querySelectorAll(".select-wrapper");let n=!1;i.forEach(u=>{u.contains(s.target)&&(n=!0)}),n||(Ce.value=null,Object.keys(se.value).forEach(u=>{se.value[u]=""}))})}));const ke=()=>x(this,null,function*(){if(v.value){yield Te();const s=document.querySelector(`[name="${v.value}"]`);s&&(s.scrollIntoView({behavior:"smooth",block:"center"}),s.focus()),v.value=null}}),Se=(s,i)=>{console.log(`Field ${s} changed to:`,i.target.value)},z=(s,i)=>x(this,null,function*(){const n=s.target.files[0];if(!n){$.error("Please select a file.",{autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});return}const u=5*1024*1024;if(n.size>u){$.error("File size exceeds 5 MB limit.",{autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});return}if((i==="user_image"||i==="custom_background_image")&&!["image/jpeg","image/png","image/webp"].includes(n.type)){$.error("Please upload a valid image file (JPG, PNG, or WEBP)",{autoClose:2e3});return}const f=new FileReader;f.readAsDataURL(n),f.onload=()=>x(this,null,function*(){try{a.value[i]=f.result,$.success("File uploaded successfully!",{autoClose:1e3})}catch(V){console.error("Error uploading file:",V),$.error("Failed to upload file. Please try again.",{autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}})}),Oe=s=>{a.value[s]=null,$.info("File removed.",{autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},Ve=s=>s?s.startsWith("data:")?"Image File":"Uploaded File":"",E=k(""),A=k(!1),K=H(()=>p.value.find(s=>s.dial_code===a.value.country_code)||{flag:"🇮🇳",dial_code:"+91",name:"India"}),xe=H(()=>{const s=E.value.toLowerCase();return p.value.filter(i=>i.dial_code.toLowerCase().includes(s)||i.name.toLowerCase().includes(s)||i.flag.toLowerCase().includes(s)).sort((i,n)=>{const u=i.name.toLowerCase().includes(s),d=n.name.toLowerCase().includes(s),f=i.dial_code.toLowerCase().includes(s),V=n.dial_code.toLowerCase().includes(s);return u&&!d?-1:!u&&d?1:f&&!V?-1:!f&&V?1:i.name.localeCompare(n.name)})}),Le=s=>{a.value.country_code=s.dial_code,E.value="",A.value=!1},$e=()=>{A.value=!A.value},Ce=k(null),se=k({});return(s,i)=>(c(),b("div",lt,[o("div",it,[o("div",at,[o("div",ot,[a.value.custom_background_image?(c(),b("img",{key:0,src:a.value.custom_background_image,alt:"Banner",class:"w-full h-full object-cover"},null,8,rt)):(c(),b("img",nt)),o("label",ut,[i[6]||(i[6]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),i[7]||(i[7]=o("span",{class:"text-sm text-gray-600"},"Change Cover",-1)),o("input",{type:"file",class:"hidden",onChange:i[0]||(i[0]=n=>z(n,"custom_background_image")),accept:"image/*"},null,32)])]),o("div",dt,[o("div",ct,[o("div",ht,[a.value.user_image?(c(),b("img",{key:0,src:a.value.user_image,alt:"Profile",class:"w-full h-full object-cover"},null,8,pt)):(c(),b("div",mt,g(N(l).cookie.full_name.charAt(0).toUpperCase()),1))]),o("label",ft,[i[8]||(i[8]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),o("input",{type:"file",class:"hidden",onChange:i[1]||(i[1]=n=>z(n,"user_image")),accept:"image/*"},null,32)])])])]),o("div",gt,[o("div",vt,[o("div",null,[o("h1",bt,g(N(l).cookie.full_name),1),o("p",yt,g(N(l).cookie.user_id),1)]),o("div",_t,[i[9]||(i[9]=o("span",{class:"text-sm text-gray-500"},"Status:",-1)),o("span",{class:I(["px-3 py-1 text-sm font-medium rounded-full",{"bg-green-100 text-green-800":P.value==="Approved","bg-yellow-100 text-yellow-800":P.value==="Pending Approval","bg-red-100 text-red-800":P.value==="Rejected","bg-gray-100 text-gray-800":!P.value||P.value==="Not Set"}])},g(P.value||"Not Set"),3)])])])]),o("div",wt,[o("div",kt,[o("div",null,[i[14]||(i[14]=o("h2",{class:"text-xl font-semibold text-gray-700 mb-6"},"Personal Info",-1)),o("form",{onSubmit:m(we,["prevent"])},[o("div",St,[(c(!0),b(j,null,q(w.value,(n,u)=>(c(),b("div",{key:u,class:"min-w-[300px]"},[o("label",Ot,[D(g(n.label)+" ",1),n.required?(c(),b("span",Vt,"*")):_("",!0)]),u!=="custom_date_of_birth"&&!["select","file","multiselect"].includes(n.type)?(c(),b("div",xt,[u=="custom_phone_number"?(c(),b("div",Lt,[o("div",$t,[o("div",{class:"flex items-center h-[42px] border border-gray-300 rounded-l px-3 min-w-[120px] cursor-pointer",onClick:m($e,["stop"])},[o("div",Ct,[o("span",null,g(K.value.flag),1),o("span",null,g(K.value.dial_code),1)]),i[10]||(i[10]=o("svg",{class:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),A.value?(c(),b("div",Bt,[o("div",Dt,[B(o("input",{type:"text","onUpdate:modelValue":i[2]||(i[2]=d=>E.value=d),placeholder:"Search country...",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-200",onClick:i[3]||(i[3]=m(()=>{},["stop"]))},null,512),[[de,E.value]])]),o("div",Pt,[(c(!0),b(j,null,q(xe.value,d=>(c(),b("div",{key:K.value.dial_code,onClick:m(f=>Le(d),["stop"]),class:I(["flex items-center gap-3 px-4 py-2 hover:bg-gray-50 cursor-pointer",{"bg-orange-50":d.dial_code===a.value.country_code}])},[o("span",Mt,g(d.flag),1),o("span",Et,g(d.name),1),o("span",At,g(d.dial_code),1)],10,Ft))),128))])])):_("",!0)])])):_("",!0),B(o("input",{"onUpdate:modelValue":d=>a.value[u]=d,type:n.type,name:u,placeholder:n.placeholder,readonly:n.readonly,maxlength:n.maxLength,disabled:n.readonly,class:I(["block w-full border border-gray-300 text-bodyh2 h-[42px] px-4 focus:outline-none focus:ring focus:ring-orange-200",[u=="custom_phone_number"?"rounded-r border-l-0":"rounded"]]),onChange:d=>Se(u,d)},null,42,Tt),[[Ae,a.value[u]]])])):u==="custom_date_of_birth"?B((c(),b("input",{key:1,"onUpdate:modelValue":i[4]||(i[4]=d=>a.value.custom_date_of_birth=d),type:"date",name:"custom_date_of_birth",max:F.value,min:me.value,class:"block w-full border border-gray-300 text-bodyh2 rounded py-2.5 px-4 focus:outline-none focus:ring focus:ring-orange-200"},null,8,Ht)),[[de,a.value.custom_date_of_birth]]):n.type==="file"?(c(),b("div",Nt,[o("label",jt,[i[11]||(i[11]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-indigo-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),o("span",qt,g(a.value[u]?"Change File":"Upload File"),1),o("input",{type:"file",class:"hidden",onChange:d=>z(d,u),accept:"*/*"},null,40,Gt)]),a.value[u]?(c(),b("div",zt,[o("div",Kt,[o("div",Ut,[i[12]||(i[12]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),o("span",It,g(Ve(a.value[u])),1)]),o("button",{onClick:d=>Oe(u),class:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-white bg-red-500 rounded-md hover:bg-red-600 transition-colors duration-200"},i[13]||(i[13]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),D(" Remove ")]),8,Rt)])])):_("",!0)])):_("",!0),n.type==="select"?(c(),L(Ne,{key:3,modelValue:a.value[u],"onUpdate:modelValue":d=>a.value[u]=d,options:te(u),label:n.label,placeholder:`Select ${n.label}`,required:n.required},null,8,["modelValue","onUpdate:modelValue","options","label","placeholder","required"])):_("",!0),u==="custom_skill"?(c(),b("div",Yt,[y(N(pe),{modelValue:a.value.custom_skill,"onUpdate:modelValue":i[5]||(i[5]=d=>a.value.custom_skill=d),options:te("custom_skill"),multiple:!0,placeholder:"Select skills",label:"label","track-by":"name","preselect-first":!1,class:"multiselect-orange"},{default:W(()=>[o("template",Wt,[s.values.length&&!s.isOpen?(c(),b("span",Jt,g(s.values.length)+" skills selected ",1)):_("",!0)])]),_:1},8,["modelValue","options"])])):_("",!0),O.value[u]?(c(),b("p",Qt,g(O.value[u]),1)):_("",!0)]))),128))]),o("div",Zt,[o("button",{type:"submit",class:"bg-orange-500 text-white font-semibold py-2.5 px-8 rounded-sm hover:bg-orange-600 transition flex items-center justify-center min-w-[120px]",disabled:M.value},[M.value?(c(),b("span",es)):_("",!0),D(" "+g(M.value?"UPDATING...":"UPDATE"),1)],8,Xt)])],32)])])])]))}},us=Fe(ts,[["__scopeId","data-v-7fb68683"]]);export{us as default};
