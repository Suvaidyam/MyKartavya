var D=Object.defineProperty,T=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var h=(o,a,e)=>a in o?D(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e,w=(o,a)=>{for(var e in a||(a={}))j.call(a,e)&&h(o,e,a[e]);if(g)for(var e of g(a))E.call(a,e)&&h(o,e,a[e]);return o},S=(o,a)=>T(o,$(a));var k=(o,a,e)=>new Promise((r,d)=>{var v=n=>{try{i(e.next(n))}catch(p){d(p)}},m=n=>{try{i(e.throw(n))}catch(p){d(p)}},i=n=>n.done?r(n.value):Promise.resolve(n.value).then(v,m);i((e=e.apply(o,a)).next())});import{B as I,r as u,s as x,o as L,c as f,a as t,t as _,v as M,x as R,F as C,g as A,m as F,i as z,h as y,n as P}from"./index-DVO-974F.js";const Q={id:"app"},U={class:"container"},q={class:"sidebar"},H={class:"header"},J={class:"total-ngos"},K={class:"total-count"},W={class:"search-box"},X={class:"state-list"},Y=["onClick"],Z={class:""},tt={class:"state-name"},et=["onClick"],ot={__name:"StateNgo",setup(o){const a=z("call");let e;try{e=I()}catch(s){console.warn("Vue Router not available:",s),e=null}const r=u(""),d=u(""),v=u(!1),m=u({}),i=u([]),n=u({}),p=x(()=>i.value.reduce((s,l)=>s+l.ngos,0)),N=x(()=>r.value?i.value.filter(s=>s.name.toLowerCase().includes(r.value.toLowerCase())):i.value);function b(s){d.value=s.name,m.value=S(w({},s),{ngos:n.value[s.name]||[]}),v.value=!0}function B(){d.value="",m.value={},v.value=!0,setTimeout(()=>{v.value=!1},3e3)}function G(s){e?e.push(`/ngos-page/${s.name}`):(console.warn("Router not available, using window.location"),window.location.href=`/ngos-page/${s.name}`)}function O(){return k(this,null,function*(){try{if(!a)throw new Error("API call method not injected");const s=yield a("mykartavya.controllers.state.get_ngos_by_state",{});s&&s.data&&(i.value=s.data.states||[],n.value=s.data.ngosByState||{})}catch(s){console.error("Error loading NGO data:",s),i.value=[],n.value={}}})}return L(()=>{O()}),(s,l)=>(y(),f(C,null,[l[4]||(l[4]=t("div",{class:"flex py-8"},[t("p",{class:"main"},"Volunteer with NGOs from across India")],-1)),t("div",Q,[t("div",U,[t("div",q,[t("div",H,[t("div",J,[l[1]||(l[1]=t("span",null,"Total NGOs",-1)),t("span",K,_(p.value),1)])]),t("div",W,[M(t("input",{type:"text",class:"search-input",placeholder:"Search states...","onUpdate:modelValue":l[0]||(l[0]=c=>r.value=c)},null,512),[[R,r.value]])]),t("div",X,[l[2]||(l[2]=t("div",{class:"flex justify-between items-center px-4 pt-2 border-b"},[t("p",null,"State(s)"),t("p",null,"NGOs")],-1)),(y(!0),f(C,null,A(N.value,c=>(y(),f("div",{class:P(["state-item",{active:d.value===c.name}]),key:c.name,onClick:V=>b(c)},[t("div",Z,[t("span",tt,_(c.state_name),1)]),t("span",{class:"ngo-count",onClick:V=>G(c)},_(c.ngos),9,et)],10,Y))),128))])]),t("div",{class:"map-container"},[t("div",{class:"map-wrapper"},[t("div",{class:"india-map",onClick:B},l[3]||(l[3]=[F('<div class="map-dots"><div class="dot" style="top:20%;left:40%;"></div><div class="dot" style="top:30%;left:50%;"></div><div class="dot" style="top:45%;left:35%;"></div><div class="dot" style="top:60%;left:45%;"></div><div class="dot" style="top:35%;left:60%;"></div><div class="dot" style="top:50%;left:55%;"></div><div class="dot" style="top:25%;left:30%;"></div></div>',1)]))])])])])],64))}};export{ot as default};
