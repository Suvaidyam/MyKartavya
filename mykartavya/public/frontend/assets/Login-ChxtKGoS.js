var c=(y,u,a)=>new Promise((d,s)=>{var r=t=>{try{n(a.next(t))}catch(i){s(i)}},f=t=>{try{n(a.throw(t))}catch(i){s(i)}},n=t=>t.done?d(t.value):Promise.resolve(t.value).then(r,f);n((a=a.apply(y,u)).next())});import{r as p,o as _,c as g,a as o,e as w,s as k,v as C,x as O,f as v,b as T,w as j,d as B,i as P,y as V,z as q,j as b}from"./index-nWxqnDQb.js";import{_ as H,a as N,b as S}from"./Frame (1)-BNHRP8Uf.js";import{l as m}from"./index-CIhCqpvM.js";/* empty css              */const E={class:"flex pt-[62px] flex-col items-center min-h-screen bg-secondary",style:{background:"#f5f5f5"}},K={class:"flex flex-col items-center text-center w-full px-4 min-h-[calc(100vh-64px)] justify-center"},U={class:"mt-8 bg-white p-6 rounded-sm w-full max-w-[443px] shadow-md"},$=["disabled"],A={key:0,class:"h-5 w-5"},D={key:1},J={class:"text-bodyh2 mt-4 text-gray-600"},G={__name:"Login",setup(y){const u=P("call"),a=q(),d=V(),s=p(""),r=p(!1),f=p(""),n=p(""),t=()=>c(this,null,function*(){if(s.value===""){m.error("Email is required");return}let l="";d.query.full_name?l="register_send_otp":l="send_otp";try{r.value=!0;const e=yield u(`mykartavya.controllers.email.${l}`,{email:s.value});e.status==="success"?(r.value=!1,m.success("OTP sent successfully",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),setTimeout(()=>{a.push({name:"Verify",query:{email:s.value,returnUrl:d.query.returnUrl}})},2e3)):(r.value=!1,m.error(e.message,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}))}catch(e){m.error("Something went wrong",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}}),i=()=>c(this,null,function*(){const l=yield u("mykartavya.controllers.api.get_login_details");f.value=l[0].google_login_url,n.value=l[0].office_365_login_url});return _(()=>c(this,null,function*(){console.log("Page has loaded"),yield i()})),(l,e)=>{const h=B("router-link");return b(),g("div",E,[o("main",K,[e[7]||(e[7]=w('<h1 class="text-[28px] md:text-heading2 font-medium font-poppins"> Your Journey of Kindness Starts Here </h1><div class="text-center mt-2"><div class="flex flex-wrap justify-center gap-2 md:gap-4"><button class="border px-4 h-8 items-center bg-white rounded-full text-black border-orange-500 flex gap-1"><img src="'+H+'" alt="" class="w-4"><p class="text-bodyh2 font-normal">Track Your Impact</p></button><button class="border px-4 h-8 items-center bg-white rounded-full text-black border-orange-500 flex gap-1"><img src="'+N+'" alt="" class="w-4"><p class="text-bodyh2 font-normal">Join Activities Anywhere</p></button><button class="border px-4 h-8 items-center bg-white rounded-full text-black flex gap-1" style="border-color:#f185bb;"><img src="'+S+'" alt="" class="w-4"><p class="text-bodyh2 font-normal">Connect with a Community</p></button></div></div>',2)),o("div",U,[e[6]||(e[6]=o("h2",{class:"text-[20px] font-medium mb-4"},"Login to your account",-1)),k(o("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=x=>s.value=x),placeholder:"sample@example.com",class:"w-full p-2 border rounded-sm mb-4 text-[14px]",style:{color:"#6e7073"},onKeyup:e[1]||(e[1]=O(x=>t(),["enter"]))},null,544),[[C,s.value]]),o("button",{disabled:r.value,onClick:e[2]||(e[2]=x=>t()),class:"w-full flex items-center justify-center text-white py-2 rounded-sm text-bodyh2",style:{background:"#ff5722"}},[r.value?(b(),g("div",A,e[3]||(e[3]=[o("div",{class:"animate-spin h-full w-full rounded-full border-[2px] flex justify-center items-center border-dotted border-[#fff]"},[o("div",{class:"w-3 h-3 rounded-full border-dashed border-[1px] border-[#fff]"})],-1)]))):(b(),g("p",D,"GET OTP"))],8,$),o("p",J,[e[5]||(e[5]=v(" Don't have an account? ")),T(h,{to:"/register",class:"text-orange-500"},{default:j(()=>e[4]||(e[4]=[v("Sign up")])),_:1})])])])])}}};export{G as default};
