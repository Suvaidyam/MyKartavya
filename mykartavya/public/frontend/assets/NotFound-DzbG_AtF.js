var A=(f,d,i)=>new Promise((v,F)=>{var n=u=>{try{c(i.next(u))}catch(g){F(g)}},V=u=>{try{c(i.throw(u))}catch(g){F(g)}},c=u=>u.done?v(u.value):Promise.resolve(u.value).then(n,V);c((i=i.apply(f,d)).next())});import{_ as j,c as o,b as l,e as S,r as y,z,k as B,o as H,d as a,n as x,p as E,F as p,h as b,m as _,i as T,t as m,q as k,P as D,C as N,w,f as C,u as $,S as G,g as M,l as O,T as P,Q as q,R as I}from"./index-CeCWTPFA.js";const K={},Q={class:"w-full h-full"};function R(f,d){return l(),o("div",Q,d[0]||(d[0]=[S('<div class="flex w-full flex-col items-center gap-3 justify-center h-full"><div class="h-2/5 w-full flex flex-col gap-3"><div class="w-1/4 rounded-md h-5 bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div></div><div class="h-[30%] w-full flex flex-col gap-3"><div class="w-1/2 rounded-md h-5 bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div></div><div class="h-[30%] w-full flex flex-col gap-3"><div class="w-1/3 rounded-md h-5 bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div></div></div>',1)]))}const J=j(K,[["render",R]]),W={class:"w-[270px] min-w-[270px] fixed overflow-auto h-screen pb-[62px] hidden lg:block border-r border-gray-200"},X={class:"bg-white relative px-4"},Y={class:"flex sticky top-0 bg-white z-20 justify-between items-center py-3"},Z=["disabled"],ee={class:"flex flex-col"},se={class:"flex flex-col border-t"},ae={class:"text-[14px] font-medium mb-2 pt-2"},te={class:"flex flex-col gap-3 pb-2"},le={key:0,class:"flex px-2 items-center gap-2 text-sm"},oe={class:"flex px-2 items-center gap-2 text-sm"},ne=["onUpdate:modelValue","value","type","name","id"],de={key:0,class:"flex items-center"},re=["src","alt"],ie={key:1,class:"w-5 h-5 text-[12px] font-norma rounded-full bg-gray-100 flex items-center justify-center"},ce=["for"],ue={class:"w-full block lg:hidden px-4 py-3"},ge={class:"flex gap-1 flex-wrap"},fe={key:0,class:"flex px-2 items-center py-1 gap-2 text-sm"},ve={class:"flex px-2 py-1 items-center gap-2 text-sm"},ye=["onUpdate:modelValue","value","type","name","id"],pe=["for"],me={__name:"Filters",props:{filter:Object},setup(f){const d=T("call"),i=y(!1),v=y(!0),n=y(f.filter),V=y([]),c=y([{name:"SDGs",type:"checkbox",key:"sdgs",options:[]},{name:"Volunteering Hours",type:"radio",key:"volunteering_hours",options:[{name:"Low to High"},{name:"High to Low"}]},{name:"Activity Type",type:"checkbox",key:"activity_type",options:[{name:"Online"},{name:"On-Ground"},{name:"Both"}]},{name:"Karma Points",type:"radio",key:"karma_points",options:[{name:"Low to High"},{name:"High to Low"}]}]),u=()=>A(this,null,function*(){i.value=!0;try{const r=yield d("mykartavya.controllers.api.sdg_data");V.value=r;const s=c.value.find(e=>e.key==="sdgs");s&&(s.options=r.map(e=>({name:e.name,sdg_image:e.sdg_image})),setTimeout(()=>{i.value=!1},500))}catch(r){i.value=!1,console.error("Error fetching SDG data:",r)}}),g=z({get:()=>{const r=c.value.find(s=>s.key==="sdgs");return r&&n.value.sdgs.length===r.options.length},set:r=>{const s=c.value.find(e=>e.key==="sdgs");n.value.sdgs=r&&s?[...s.options]:[]}}),L=()=>{n.value={sdgs:[],volunteering_hours:"",activity_type:[],karma_points:""}};return B(n,r=>{v.value=Object.values(r).every(s=>Array.isArray(s)?s.length===0:s==="")},{deep:!0,immediate:!0}),H(u),(r,s)=>(l(),o(p,null,[a("aside",W,[a("div",X,[a("div",Y,[s[4]||(s[4]=a("h3",{class:"text-lg font-medium"},"Filter by",-1)),a("button",{disabled:v.value,class:x([v.value?"text-gray-500":"text-[#E86C13]","text-sm"]),onClick:s[0]||(s[0]=e=>L())}," Clear All ",10,Z)]),a("div",ee,[i.value?(l(),E(J,{key:0})):(l(!0),o(p,{key:1},b(c.value,e=>(l(),o("div",se,[a("h4",ae,m(e.name),1),a("div",te,[e.key==="sdgs"?(l(),o("div",le,[k(a("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>g.value=t),type:"checkbox",class:"rounded-sm focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"all-sdgs"},null,512),[[D,g.value]]),s[5]||(s[5]=a("label",{class:"text-[12px] font-normal flex gap-2 items-center",for:"all-sdgs"}," All ",-1))])):_("",!0),(l(!0),o(p,null,b(e.options,t=>{var h;return l(),o("div",oe,[k(a("input",{"onUpdate:modelValue":U=>n.value[e.key]=U,value:t.name,type:e.type,name:e.key,class:x([e.type=="checkbox"?"rounded-sm":"rounded-full","focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary"]),id:`${e.key}-${t.name.toLowerCase().replace(" ","-")}`},null,10,ne),[[N,n.value[e.key]]]),e.key==="sdgs"?(l(),o("div",de,[t.sdg_image?(l(),o("img",{key:0,src:t.sdg_image,alt:t,class:"w-5 h-5 rounded-full object-cover"},null,8,re)):(l(),o("div",ie,m((h=t==null?void 0:t.name)==null?void 0:h.charAt(0)),1))])):_("",!0),a("label",{class:"text-[12px] font-normal",for:`${e.key}-${t.name.toLowerCase().replace(" ","-")}`},m(t.name),9,ce)])}),256))])]))),256))])])]),a("div",ue,[a("div",ge,[(l(!0),o(p,null,b(c.value,e=>(l(),E($(I),{as:"div",class:"relative inline-block text-left"},{default:w(()=>[a("div",null,[C($(G),{class:x([(Array.isArray(n.value[e.key])?n.value[e.key].length>0:n.value[e.key])?"ring-[#E86C13] text-[#E86C13]":"ring-gray-300","inline-flex w-full justify-center gap-x-1.5 truncate rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 shadow-xs ring-inset hover:bg-gray-50"])},{default:w(()=>[M(m(e.name)+" ",1),C($(O),{class:"size-4",name:"chevron-down"})]),_:2},1032,["class"])]),C(P,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:w(()=>[C($(q),{class:"absolute p-1 max-h-72 overflow-auto left-0 z-10 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white ring-1 shadow-lg ring-black/5 focus:outline-hidden"},{default:w(()=>[e.key==="sdgs"?(l(),o("div",fe,[k(a("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>g.value=t),type:"checkbox",class:"rounded-sm focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"all-sdgs"},null,512),[[D,g.value]]),s[6]||(s[6]=a("label",{class:"text-[12px] font-normal",for:"all-sdgs"},"All",-1))])):_("",!0),(l(!0),o(p,null,b(e.options,t=>(l(),o("div",ve,[k(a("input",{"onUpdate:modelValue":h=>n.value[e.key]=h,value:t.name,type:e.type,name:e.key,class:x([e.type=="checkbox"?"rounded-sm":"rounded-full","focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary"]),id:`${e.key}-${t.name.toLowerCase().replace(" ","-")}`},null,10,ye),[[N,n.value[e.key]]]),a("label",{for:`${e.key}-${t.name.toLowerCase().replace(" ","-")}`},m(t.name),9,pe)]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),v.value?_("",!0):(l(),o("button",{key:0,class:"border truncate rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-700",onClick:s[3]||(s[3]=e=>L())},"Clear All"))])])],64))}},je=j(me,[["__scopeId","data-v-78ccdaa2"]]),he={},xe={class:"h-[250px]"};function be(f,d){return l(),o("div",xe,d[0]||(d[0]=[S('<div class="animate-pulse flex flex-col justify-center w-full h-full rounded-lg"><div class="w-full flex flex-col justify-between p-2 h-[70%] bg-gray-200 rounded-lg"><div class="flex justify-between"><div class="w-24 h-6 bg-gray-300"></div><div class="w-20 h-6 bg-gray-300 rounded-lg"></div></div><div class="w-4/5 h-4 rounded-md bg-gray-300"></div></div><div class="w-full h-3 bg-gray-200 rounded-lg mt-2"></div><div class="w-4/5 h-3 bg-gray-200 rounded-lg mt-2"></div><div class="w-1/3 h-3 bg-gray-200 rounded-lg mt-2"></div><div class="w-full h-2 bg-gray-200 rounded-lg mt-2"></div></div>',1)]))}const Fe=j(he,[["render",be]]),_e={},ke={class:"w-full h-full flex justify-center items-center"};function we(f,d){return l(),o("div",ke,d[0]||(d[0]=[a("p",{class:"text-2xl text-gray-600"},"Data Not Found!",-1)]))}const Ve=j(_e,[["render",we]]);export{Fe as C,je as F,Ve as N};
