var b=Object.defineProperty,B=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var g=(a,t,e)=>t in a?b(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,N=(a,t)=>{for(var e in t||(t={}))V.call(t,e)&&g(a,e,t[e]);if(h)for(var e of h(t))I.call(t,e)&&g(a,e,t[e]);return a},S=(a,t)=>B(a,D(t));var k=(a,t,e)=>new Promise((p,d)=>{var v=l=>{try{i(e.next(l))}catch(u){d(u)}},m=l=>{try{i(e.throw(l))}catch(u){d(u)}},i=l=>l.done?p(l.value):Promise.resolve(l.value).then(v,m);i((e=e.apply(a,t)).next())});import{r,o as T,c as f,a as s,t as _,v as j,x as A,F as w,g as E,m as M,i as P,B as F,h as y,n as R}from"./index-xatQhOuB.js";const $={id:"app"},z={class:"container"},L={class:"sidebar"},Q={class:"header"},U={class:"total-ngos"},q={class:"total-count"},H={class:"search-box"},J={class:"state-list"},K=["onClick"],W={class:"state-name"},X=["onClick"],ss={__name:"StateNgo",setup(a){const t=P("call"),e=F(),p=r(""),d=r(""),v=r(!1),m=r({}),i=r([]),l=r({});function u(o){d.value=o.name,m.value=S(N({},o),{ngos:l.value[o.name]||[]}),v.value=!0}function x(){d.value="",m.value={},v.value=!0,setTimeout(()=>{v.value=!1},3e3)}function C(o){e.push({name:"NgoProfile",params:{name:o.name}})}function G(){return k(this,null,function*(){try{if(!t)throw new Error("API call method not injected");const o=yield t("mykartavya.controllers.state.get_state",{});console.log("API Response:",o.states[0].name),i.value=o.states,console.log("States:",i.value)}catch(o){console.error("Error loading NGO data:",o),i.value=[],l.value={}}})}return T(()=>{G()}),(o,n)=>(y(),f(w,null,[n[4]||(n[4]=s("div",{class:"flex py-8"},[s("p",{class:"main"},"Volunteer with NGOs from across India")],-1)),s("div",$,[s("div",z,[s("div",L,[s("div",Q,[s("div",U,[n[1]||(n[1]=s("span",null,"Total NGOs",-1)),s("span",q,_(o.totalNGOs),1)])]),s("div",H,[j(s("input",{type:"text",class:"search-input",placeholder:"Search states...","onUpdate:modelValue":n[0]||(n[0]=c=>p.value=c)},null,512),[[A,p.value]])]),s("div",J,[n[2]||(n[2]=s("div",{class:"flex justify-between items-center px-4 pt-2 border-b"},[s("p",null,"State(s)"),s("p",null,"NGOs")],-1)),(y(!0),f(w,null,E(i.value,c=>(y(),f("div",{class:R(["state-item",{active:d.value===c.name}]),key:c.name,onClick:O=>u(c)},[s("div",null,[s("span",W,_(c.state_name),1)]),s("span",{class:"ngo-count",onClick:O=>C(c)},_(c.ngos),9,X)],10,K))),128))])]),s("div",{class:"map-container"},[s("div",{class:"map-wrapper"},[s("div",{class:"india-map",onClick:x},n[3]||(n[3]=[M('<div class="map-dots"><div class="dot" style="top:20%;left:40%;"></div><div class="dot" style="top:30%;left:50%;"></div><div class="dot" style="top:45%;left:35%;"></div><div class="dot" style="top:60%;left:45%;"></div><div class="dot" style="top:35%;left:60%;"></div><div class="dot" style="top:50%;left:55%;"></div><div class="dot" style="top:25%;left:30%;"></div></div>',1)]))])])])])],64))}};export{ss as default};
