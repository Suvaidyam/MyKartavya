var $=(V,b,d)=>new Promise((o,y)=>{var u=c=>{try{i(d.next(c))}catch(a){y(a)}},w=c=>{try{i(d.throw(c))}catch(a){y(a)}},i=c=>c.done?o(c.value):Promise.resolve(c.value).then(u,w);i((d=d.apply(V,b)).next())});import{_ as L,r as g,p as D,A as B,j as S,c as r,b as t,q as f,F as p,g as v,s as A,i as U,o as n,t as h,k as x,P as E,B as F,y as j,w as k,e as m,u as _,S as H,f as z,h as G,T as M,Q as N,R as T}from"./index-Bz-WKddl.js";const O={class:"w-[270px] min-w-[270px] fixed overflow-auto h-screen pb-[62px] hidden lg:block border-r border-gray-200"},R={class:"bg-white relative px-4"},K={class:"flex sticky top-0 bg-white z-20 justify-between items-center py-3"},P=["disabled"],q={class:"flex flex-col"},I={class:"flex flex-col border-t"},Q={class:"text-[14px] font-medium mb-2 pt-2"},J={class:"flex flex-col gap-3 pb-2"},W={key:0,class:"flex px-2 items-center gap-2 text-sm"},X={class:"flex px-2 items-center gap-2 text-sm"},Y=["onUpdate:modelValue","value","type","name","id"],Z=["for"],ee={class:"w-full block lg:hidden px-4 py-3"},se={class:"flex gap-1 flex-wrap"},te={key:0,class:"flex px-2 items-center py-1 gap-2 text-sm"},ae={class:"flex px-2 py-1 items-center gap-2 text-sm"},oe=["onUpdate:modelValue","value","type","name","id"],le=["for"],ne={__name:"Filters",setup(V){const b=U("call"),d=g(!0),o=g({sdgs:[],volunteering_hours:"",activity_type:[],karma_points:""}),y=g([]),u=g([{name:"SDGs",type:"checkbox",key:"sdgs",options:[]},{name:"Volunteering Hours",type:"radio",key:"volunteering_hours",options:["Low to High","High to Low"]},{name:"Activity Type",type:"checkbox",key:"activity_type",options:["Online","On Ground","Both"]},{name:"Karma Points",type:"radio",key:"karma_points",options:["Low to High","High to Low","ARKs in my Region"]}]),w=()=>$(this,null,function*(){try{const a=yield b("mykartavya.controllers.api.sdg_data");y.value=a;const s=u.value.find(e=>e.key==="sdgs");s&&(s.options=a.map(e=>e.name))}catch(a){console.error("Error fetching SDG data:",a)}}),i=D({get:()=>{const a=u.value.find(s=>s.key==="sdgs");return a&&o.value.sdgs.length===a.options.length},set:a=>{const s=u.value.find(e=>e.key==="sdgs");o.value.sdgs=a&&s?[...s.options]:[]}}),c=()=>{o.value={sdgs:[],volunteering_hours:"",activity_type:[],karma_points:""}};return B(o,a=>{d.value=Object.values(a).every(s=>Array.isArray(s)?s.length===0:s==="")},{deep:!0,immediate:!0}),S(w),(a,s)=>(n(),r(p,null,[t("aside",O,[t("div",R,[t("div",K,[s[4]||(s[4]=t("h3",{class:"text-lg font-medium"},"Filter by",-1)),t("button",{disabled:d.value,class:f([d.value?"text-gray-500":"text-[#E86C13]","text-sm"]),onClick:s[0]||(s[0]=e=>c())}," Clear All ",10,P)]),t("div",q,[(n(!0),r(p,null,v(u.value,e=>(n(),r("div",I,[t("h4",Q,h(e.name),1),t("div",J,[e.key==="sdgs"?(n(),r("div",W,[x(t("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>i.value=l),type:"checkbox",class:"rounded-sm focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"all-sdgs"},null,512),[[E,i.value]]),s[5]||(s[5]=t("label",{class:"text-[12px] font-normal",for:"all-sdgs"},"All",-1))])):A("",!0),(n(!0),r(p,null,v(e.options,l=>(n(),r("div",X,[x(t("input",{"onUpdate:modelValue":C=>o.value[e.key]=C,value:l,type:e.type,name:e.key,class:f([e.type=="checkbox"?"rounded-sm":"rounded-full","focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary"]),id:`${e.key}-${l.toLowerCase().replace(" ","-")}`},null,10,Y),[[F,o.value[e.key]]]),t("label",{class:"text-[12px] font-normal",for:`${e.key}-${l.toLowerCase().replace(" ","-")}`},h(l),9,Z)]))),256))])]))),256))])])]),t("div",ee,[t("div",se,[(n(!0),r(p,null,v(u.value,e=>(n(),j(_(T),{as:"div",class:"relative inline-block text-left"},{default:k(()=>[t("div",null,[m(_(H),{class:f([(Array.isArray(o.value[e.key])?o.value[e.key].length>0:o.value[e.key])?"ring-[#E86C13] text-[#E86C13]":"ring-gray-300","inline-flex w-full justify-center gap-x-1.5 truncate rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 shadow-xs ring-inset hover:bg-gray-50"])},{default:k(()=>[z(h(e.name)+" ",1),m(_(G),{class:"size-4",name:"chevron-down"})]),_:2},1032,["class"])]),m(M,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:k(()=>[m(_(N),{class:"absolute p-1 h-72 overflow-auto left-0 z-10 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white ring-1 shadow-lg ring-black/5 focus:outline-hidden"},{default:k(()=>[e.key==="sdgs"?(n(),r("div",te,[x(t("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>i.value=l),type:"checkbox",class:"rounded-sm focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"all-sdgs"},null,512),[[E,i.value]]),s[6]||(s[6]=t("label",{class:"text-[12px] font-normal",for:"all-sdgs"},"All",-1))])):A("",!0),(n(!0),r(p,null,v(e.options,l=>(n(),r("div",ae,[x(t("input",{"onUpdate:modelValue":C=>o.value[e.key]=C,value:l,type:e.type,name:e.key,class:f([e.type=="checkbox"?"rounded-sm":"rounded-full","focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary"]),id:`${e.key}-${l.toLowerCase().replace(" ","-")}`},null,10,oe),[[F,o.value[e.key]]]),t("label",{for:`${e.key}-${l.toLowerCase().replace(" ","-")}`},h(l),9,le)]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),d.value?A("",!0):(n(),r("button",{key:0,class:"border truncate rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-700",onClick:s[3]||(s[3]=e=>c())},"Clear All"))])])],64))}},de=L(ne,[["__scopeId","data-v-adaa7407"]]);export{de as F};
