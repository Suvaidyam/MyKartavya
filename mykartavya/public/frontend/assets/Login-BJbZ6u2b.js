var f=(h,d,a)=>new Promise((c,r)=>{var l=o=>{try{i(a.next(o))}catch(u){r(u)}},m=o=>{try{i(a.throw(o))}catch(u){r(u)}},i=o=>o.done?c(o.value):Promise.resolve(o.value).then(l,m);i((a=a.apply(h,d)).next())});import{r as p,o as w,c as x,a as t,e as _,s as k,v as C,x as O,f as g,b as j,w as T,d as B,i as P,y as V,z as G,j as y}from"./index-tIKNDkgp.js";import{_ as q,a as H,b as M}from"./Frame (1)-BNHRP8Uf.js";import{_ as N,a as S}from"./icons8-microsoft-48-Dtp2YD9z.js";import{l as b}from"./index-DBIlrRja.js";/* empty css              */const E={class:"flex pt-[62px] flex-col items-center min-h-screen bg-secondary",style:{background:"#f5f5f5"}},K={class:"flex flex-col items-center text-center w-full px-4 min-h-[calc(100vh-64px)] justify-center"},R={class:"mt-8 bg-white p-6 rounded-sm w-full max-w-[443px] shadow-md"},U=["disabled"],$={key:0,class:"h-5 w-5"},A={key:1},D={class:"text-bodyh2 mt-4 text-gray-600"},J={class:"mt-4"},L=["href"],Y=["href"],Z={__name:"Login",setup(h){const d=P("call"),a=G(),c=V(),r=p(""),l=p(!1),m=p(""),i=p(""),o=()=>f(this,null,function*(){if(r.value===""){b.error("Email is required");return}let s="";c.query.full_name?s="register_send_otp":s="send_otp";try{l.value=!0;const e=yield d(`mykartavya.controllers.email.${s}`,{email:r.value});e.status==="success"?(l.value=!1,b.success("OTP sent successfully",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),setTimeout(()=>{a.push({name:"Verify",query:{email:r.value,returnUrl:c.query.returnUrl}})},2e3)):(l.value=!1,b.error(e.message,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}))}catch(e){b.error("Something went wrong",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}}),u=()=>f(this,null,function*(){const s=yield d("mykartavya.controllers.api.get_login_details");m.value=s[0].google_login_url,i.value=s[0].office_365_login_url});return w(()=>f(this,null,function*(){console.log("Page has loaded"),yield u()})),(s,e)=>{const v=B("router-link");return y(),x("div",E,[t("main",K,[e[12]||(e[12]=_('<h1 class="text-[28px] md:text-heading2 font-medium font-poppins"> Your Journey of Kindness Starts Here </h1><div class="text-center mt-2"><div class="flex flex-wrap justify-center gap-2 md:gap-4"><button class="border px-4 h-8 items-center bg-white rounded-full text-black border-orange-500 flex gap-1"><img src="'+q+'" alt="" class="w-4"><p class="text-bodyh2 font-normal">Track Your Impact</p></button><button class="border px-4 h-8 items-center bg-white rounded-full text-black border-orange-500 flex gap-1"><img src="'+H+'" alt="" class="w-4"><p class="text-bodyh2 font-normal">Join Activities Anywhere</p></button><button class="border px-4 h-8 items-center bg-white rounded-full text-black flex gap-1" style="border-color:#f185bb;"><img src="'+M+'" alt="" class="w-4"><p class="text-bodyh2 font-normal">Connect with a Community</p></button></div></div>',2)),t("div",R,[e[10]||(e[10]=t("h2",{class:"text-[20px] font-medium mb-4"},"Login to your account",-1)),k(t("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=n=>r.value=n),placeholder:"sample@example.com",class:"w-full p-2 border rounded-sm mb-4 text-[14px]",style:{color:"#6e7073"},onKeyup:e[1]||(e[1]=O(n=>o(),["enter"]))},null,544),[[C,r.value]]),t("button",{disabled:l.value,onClick:e[2]||(e[2]=n=>o()),class:"w-full flex items-center justify-center text-white py-2 rounded-sm text-bodyh2",style:{background:"#ff5722"}},[l.value?(y(),x("div",$,e[5]||(e[5]=[t("div",{class:"animate-spin h-full w-full rounded-full border-[2px] flex justify-center items-center border-dotted border-[#fff]"},[t("div",{class:"w-3 h-3 rounded-full border-dashed border-[1px] border-[#fff]"})],-1)]))):(y(),x("p",A,"GET OTP"))],8,U),t("p",D,[e[7]||(e[7]=g(" Don't have an account? ")),j(v,{to:"/register",class:"text-orange-500"},{default:T(()=>e[6]||(e[6]=[g("Sign up")])),_:1})]),e[11]||(e[11]=t("div",{class:"flex items-center my-4"},[t("hr",{class:"flex-grow border-t border-gray-300"}),t("span",{class:"mx-2 text-gray-500 text-caption"},"OR"),t("hr",{class:"flex-grow border-t border-gray-300"})],-1)),t("div",J,[t("a",{href:m.value},[t("button",{class:"w-full flex items-center justify-start p-2 border rounded-sm mb-2 text-bodyh2 font-normal",onClick:e[3]||(e[3]=(...n)=>s.Google_login&&s.Google_login(...n))},e[8]||(e[8]=[t("img",{src:N,alt:"Google",class:"h-5 mr-2"},null,-1),g(" Continue with Google ")]))],8,L),t("a",{href:i.value},[t("button",{class:"w-full flex items-center justify-start p-2 border rounded-sm text-bodyh2",onClick:e[4]||(e[4]=(...n)=>s.micro_login&&s.micro_login(...n))},e[9]||(e[9]=[t("img",{src:S,alt:"Microsoft",class:"h-5 mr-2"},null,-1),g(" Continue with Microsoft ")]))],8,Y)])])])])}}};export{Z as default};
