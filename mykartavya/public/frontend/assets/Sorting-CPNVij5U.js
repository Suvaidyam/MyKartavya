var z=(C,d,p)=>new Promise((o,l)=>{var U=m=>{try{u(p.next(m))}catch(f){l(f)}},j=m=>{try{u(p.throw(m))}catch(f){l(f)}},u=m=>m.done?o(m.value):Promise.resolve(m.value).then(U,j);u((p=p.apply(C,d)).next())});import{_ as N,c as i,j as r,e as q,r as V,s as B,i as F,l as J,o as Q,a as t,n as k,p as H,F as _,h as $,u as n,A as W,m as b,t as w,v as y,af as E,f as A,ad as M,w as v,b as h,ag as G,g as P,ah as R,ai as I,aj as K,ak as L}from"./index-D9RmeFgw.js";const X="/assets/mykartavya/frontend/assets/sdgall-cuCfGsPH.png",Y={},Z={class:"w-full h-full"};function ee(C,d){return r(),i("div",Z,d[0]||(d[0]=[q('<div class="flex w-full flex-col items-center gap-3 justify-center h-full"><div class="h-2/5 w-full flex flex-col gap-3"><div class="w-1/4 rounded-md h-5 bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div></div><div class="h-[30%] w-full flex flex-col gap-3"><div class="w-1/2 rounded-md h-5 bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div></div><div class="h-[30%] w-full flex flex-col gap-3"><div class="w-1/3 rounded-md h-5 bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div><div class="w-full h-5 rounded-sm bg-gray-200 animate-pulse"></div></div></div>',1)]))}const se=N(Y,[["render",ee]]),te={class:"bg-white relative px-4"},ae={class:"flex sticky top-0 bg-white z-20 justify-between items-center py-3"},oe=["disabled"],le={class:"flex flex-col"},ne={class:"flex flex-col border-t"},re={class:"text-[14px] font-medium mb-2 pt-2"},ie={class:"flex flex-col gap-3 pb-2"},de={key:0,class:"flex px-2 items-center gap-2 text-sm"},ce={class:"flex px-2 items-center gap-2 text-sm"},ue=["onUpdate:modelValue","value","type","name","id"],ge=["for"],pe=["src","alt"],fe={key:1,class:"w-[21px] h-[21px] min-w-[21px] text-[11px] font-normal rounded-full bg-gray-100 flex items-center justify-center"},ye={key:1,class:"flex px-2 items-center gap-2 text-sm"},me={class:"w-full block lg:hidden px-4 py-3"},ve={class:"flex gap-1 flex-wrap"},he={key:0,class:"flex px-2 items-center py-1 gap-2 text-sm"},xe={class:"flex px-2 py-1 items-center gap-2 text-sm"},be=["onUpdate:modelValue","value","type","name","id"],ke=["for"],_e={key:1,class:"flex px-2 items-center py-1 gap-2 text-sm"},we={__name:"Filters",setup(C){const d=F("call"),p=V(!1),o=V(!0),l=F("store"),U=W(),j=V([]),u=V([{name:"SDGs",type:"checkbox",key:"sdgs",options:[]},{name:"Activity Type",type:"checkbox",key:"activity_type",options:[]}]),m=()=>z(this,null,function*(){var c,s;p.value=!0;try{const e=yield d("mykartavya.controllers.api.sdg_data");j.value=e.sdg;const a=u.value.find(g=>g.key==="sdgs"),x=u.value.find(g=>g.key==="activity_type");x&&(x.options=(c=e==null?void 0:e.act_type)==null?void 0:c.map(g=>({name:g.name}))),a&&(a.options=(s=e==null?void 0:e.sdg)==null?void 0:s.map(g=>({name:g.name,sdg_image:g.sdg_image})))}catch(e){p.value=!1,console.error("Error fetching SDG data:",e)}finally{setTimeout(()=>{p.value=!1},500)}}),f=B({get:()=>{const c=u.value.find(s=>s.key==="sdgs");return c&&l.filters.sdgs.length===c.options.length},set:c=>{const s=u.value.find(e=>e.key==="sdgs");l.filters.sdgs=c&&s?[...s.options.map(e=>e.name)]:[]}}),T=B({get:()=>{const c=u.value.find(s=>s.key==="activity_type");return c&&l.filters.activity_type.length===c.options.length},set:c=>{const s=u.value.find(e=>e.key==="activity_type");l.filters.activity_type=c&&s?[...s.options.map(e=>e.name)]:[]}}),D=()=>{l.filters={sdgs:[],volunteering_hours:"",activity_type:[],karma_points:""}};return J(l.filters,c=>{o.value=Object.values(c).every(s=>Array.isArray(s)?s.length===0:s==="")},{deep:!0,immediate:!0}),Q(m),(c,s)=>(r(),i(_,null,[t("aside",{class:k([[n(U).fullPath=="/kindness-volunteering"?"pb-[92px]":"pb-[62px]"],"w-[270px] min-w-[270px] fixed bg-white overflow-auto h-screen hidden lg:block border-r border-gray-200"])},[t("div",te,[t("div",ae,[s[6]||(s[6]=t("h3",{class:"text-lg font-medium"},"Filter by",-1)),t("button",{disabled:o.value,class:k([o.value?"text-gray-500":"text-[#E86C13]","text-sm"]),onClick:s[0]||(s[0]=e=>D())}," Clear All ",10,oe)]),t("div",le,[p.value?(r(),H(se,{key:0})):(r(!0),i(_,{key:1},$(u.value,e=>(r(),i("div",ne,[t("h4",re,w(e.name),1),t("div",ie,[e.key==="sdgs"&&e.options.length>1?(r(),i("div",de,[y(t("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>f.value=a),type:"checkbox",class:"rounded-sm h-4 w-4 min-w-4 max-w-4 min-h-4 max-h-4 focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"all-sdgs"},null,512),[[E,f.value]]),s[7]||(s[7]=t("label",{class:"text-[12px] cursor-pointer font-normal flex gap-1 items-center",for:"all-sdgs"},[t("img",{src:X,alt:"el",class:"w-[21px] h-[21px] min-w-[21px] min-h-[21px] rounded-full object-cover"}),A(" All ")],-1))])):b("",!0),(r(!0),i(_,null,$(e.options,a=>{var x,g,S;return r(),i("div",ce,[y(t("input",{"onUpdate:modelValue":O=>n(l).filters[e.key]=O,value:a.name,type:e.type,name:e.key,class:k([e.type=="checkbox"?"rounded-sm":"rounded-full","focus:ring-[#E86C13] h-4 w-4 min-w-4 max-w-4 min-h-4 max-h-4 focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary"]),id:`${e.key}-${(x=a==null?void 0:a.name)==null?void 0:x.toLowerCase().replace(" ","-")}`},null,10,ue),[[M,n(l).filters[e.key]]]),t("label",{class:"text-[12px] font-normal cursor-pointer flex items-center gap-1",for:`${e.key}-${(g=a==null?void 0:a.name)==null?void 0:g.toLowerCase().replace(" ","-")}`},[a.sdg_image&&e.key=="sdgs"?(r(),i("img",{key:0,src:a.sdg_image,alt:a,class:"w-[21px] h-[21px] min-w-[21px] rounded-full object-cover bg-white"},null,8,pe)):b("",!0),!a.sdg_image&&e.key=="sdgs"?(r(),i("div",fe,w((S=a==null?void 0:a.name)==null?void 0:S.charAt(0)),1)):b("",!0),A(" "+w(a.name),1)],8,ge)])}),256)),e.key==="activity_type"&&e.options.length>1?(r(),i("div",ye,[y(t("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>T.value=a),type:"checkbox",class:"rounded-sm focus:ring-[#E86C13] h-4 w-4 min-w-4 max-h-4 focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"both-activity_type"},null,512),[[E,T.value]]),s[8]||(s[8]=t("label",{class:"text-[12px] font-normal",for:"both-activity_type"},"Both",-1))])):b("",!0)])]))),256))])])],2),t("div",me,[t("div",ve,[(r(!0),i(_,null,$(u.value,e=>(r(),H(n(K),{as:"div",class:"relative inline-block text-left"},{default:v(()=>[t("div",null,[h(n(G),{class:k([(Array.isArray(n(l).filters[e.key])?n(l).filters[e.key].length>0:n(l).filters[e.key])?"ring-[#E86C13] text-[#E86C13]":"ring-gray-300","inline-flex w-full justify-center gap-x-1.5 truncate rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 shadow-xs ring-inset hover:bg-gray-50"])},{default:v(()=>[A(w(e.name)+" ",1),h(n(P),{class:"size-4",name:"chevron-down"})]),_:2},1032,["class"])]),h(R,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:v(()=>[h(n(I),{class:"absolute p-1 max-h-72 overflow-auto left-0 z-10 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white ring-1 shadow-lg ring-black/5 focus:outline-hidden"},{default:v(()=>[e.key==="sdgs"?(r(),i("div",he,[y(t("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>f.value=a),type:"checkbox",class:"rounded-sm focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"all-sdgs"},null,512),[[E,f.value]]),s[9]||(s[9]=t("label",{class:"text-[12px] font-normal",for:"all-sdgs"},"All",-1))])):b("",!0),(r(!0),i(_,null,$(e.options,a=>(r(),i("div",xe,[y(t("input",{"onUpdate:modelValue":x=>n(l).filters[e.key]=x,value:a.name,type:e.type,name:e.key,class:k([e.type=="checkbox"?"rounded-sm":"rounded-full","focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary"]),id:`${e.key}-${a.name.toLowerCase().replace(" ","-")}`},null,10,be),[[M,n(l).filters[e.key]]]),t("label",{for:`${e.key}-${a.name.toLowerCase().replace(" ","-")}`},w(a.name),9,ke)]))),256)),e.key==="activity_type"?(r(),i("div",_e,[y(t("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>f.value=a),type:"checkbox",class:"rounded-sm focus:ring-[#E86C13] focus:ring-0 checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"both-activity_type"},null,512),[[E,f.value]]),s[10]||(s[10]=t("label",{class:"text-[12px] font-normal",for:"both-activity_type"},"Both",-1))])):b("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),o.value?b("",!0):(r(),i("button",{key:0,class:"border truncate rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-700",onClick:s[5]||(s[5]=e=>D())},"Clear All"))])])],64))}},je=N(we,[["__scopeId","data-v-5357da96"]]),Ce={class:"flex px-2 py-1 items-center gap-2 text-sm"},Ve={class:"flex px-2 py-1 items-center gap-2 text-sm"},$e={class:"flex px-2 py-1 items-center gap-2 text-sm"},Ee={class:"flex px-2 py-1 items-center gap-2 text-sm"},Ae={__name:"Sorting",setup(C){const d=F("store");return(p,o)=>(r(),H(n(K),{as:"div",class:"relative inline-block text-left"},{default:v(()=>[t("div",null,[h(n(G),{class:k("inline-flex w-full justify-center gap-x-1.5 truncate rounded-md bg-gray-300 p-2 text-sm font-semibold text-gray-900 shadow-xs")},{default:v(()=>[h(n(P),{class:"size-4 text-black",name:"align-right"})]),_:1})]),h(R,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:v(()=>[h(n(I),{class:"absolute p-1 max-h-72 overflow-auto right-0 z-10 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white ring-1 shadow-lg ring-black/5 focus:outline-hidden"},{default:v(()=>[o[8]||(o[8]=t("p",{class:"text-base px-2 py-1 font-normal"},"Karma Points",-1)),t("div",Ce,[y(t("input",{name:"karma_points","onUpdate:modelValue":o[0]||(o[0]=l=>n(d).filters.karma_points=l),type:"radio",value:"Low to High",class:"focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"karma-low-to-high"},null,512),[[L,n(d).filters.karma_points]]),o[4]||(o[4]=t("label",{for:"karma-low-to-high"},"Low to High",-1))]),t("div",Ve,[y(t("input",{name:"karma_points","onUpdate:modelValue":o[1]||(o[1]=l=>n(d).filters.karma_points=l),type:"radio",value:"High to Low",class:"focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"karma-high-to-low"},null,512),[[L,n(d).filters.karma_points]]),o[5]||(o[5]=t("label",{for:"karma-high-to-low"},"High to Low",-1))]),o[9]||(o[9]=t("p",{class:"text-base px-2 py-1 font-normal"},"Volunteering Hours",-1)),t("div",$e,[y(t("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>n(d).filters.volunteering_hours=l),type:"radio",name:"volunteering_hours",value:"Low to High",class:"focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"volunteering-low-to-high"},null,512),[[L,n(d).filters.volunteering_hours]]),o[6]||(o[6]=t("label",{for:"volunteering-low-to-high"},"Low to High",-1))]),t("div",Ee,[y(t("input",{"onUpdate:modelValue":o[3]||(o[3]=l=>n(d).filters.volunteering_hours=l),type:"radio",name:"volunteering_hours",value:"High to Low",class:"focus:ring-[#E86C13] checked:focus:bg-secondary checked:hover:bg-secondary checked:bg-secondary",id:"volunteering-high-to-low"},null,512),[[L,n(d).filters.volunteering_hours]]),o[7]||(o[7]=t("label",{for:"volunteering-high-to-low"},"High to Low",-1))])]),_:1})]),_:1})]),_:1}))}};export{je as F,Ae as _};
