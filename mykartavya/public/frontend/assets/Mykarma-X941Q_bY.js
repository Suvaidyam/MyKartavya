var Kt=Object.defineProperty,Tt=Object.defineProperties;var Vt=Object.getOwnPropertyDescriptors;var Ut=Object.getOwnPropertySymbols;var Wt=Object.prototype.hasOwnProperty,Yt=Object.prototype.propertyIsEnumerable;var Rt=(k,p,u)=>p in k?Kt(k,p,{enumerable:!0,configurable:!0,writable:!0,value:u}):k[p]=u,rt=(k,p)=>{for(var u in p||(p={}))Wt.call(p,u)&&Rt(k,u,p[u]);if(Ut)for(var u of Ut(p))Yt.call(p,u)&&Rt(k,u,p[u]);return k},nt=(k,p)=>Tt(k,Vt(p));var C=(k,p,u)=>new Promise((v,U)=>{var w=x=>{try{b(u.next(x))}catch(B){U(B)}},r=x=>{try{b(u.throw(x))}catch(B){U(B)}},b=x=>x.done?v(x.value):Promise.resolve(x.value).then(w,r);b((u=u.apply(k,p)).next())});import{F as Ot,_ as Qt}from"./Sorting-Dqg8qTDh.js";import{_ as Ft,r as f,o as Lt,c as l,a as t,u as y,i as at,t as c,b as d,w as jt,d as Mt,e as E,f as S,F as $,g as tt,h as o,j as Jt,k as Nt,l as It,m as Y,n as zt,p as R,q as it}from"./index-DlK6QVW2.js";import{_ as ct,C as dt}from"./NotFound-DrJ5OE-z.js";import{C as j}from"./CardLoader-B-N3Cj99.js";import{R as Zt}from"./ReqForApproval-4nvAjjsZ.js";import"./Dialog-B-8Awv88.js";import"./index-DWLT9acb.js";/* empty css              */const Gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANuSURBVHgB1VhLSFRRGP7uVSMyyIVobsISQlDBWqRBixmEaGE6s/IBhUZBEGG06kFUBK2TVmGPXeAiRq2ghToFQdrCBCeQSmdwYz4gXehGc/q/4xzRccZzfDAzfTJz7j3zn3O++/2Pc7wOYvAEfHkHgbYo0OIAxUgRZL1haT7+Bdo/+Lsi7HP4dS7gK84BgtEUkomHEIksAV4Sc9mRDQTSSYjg+sLjFa+d2oDPI20QmYJleF2RrRIZhKiLSje6gjxkEESkPBcZiOztGFfkl6G6qAoFBwrU/fh8GH0TQUwvTm+wKc8vx7FDR5Gbk4uw2HSPvdtgY0LW8YZSj2jmMRlerriElrKLCM1+x9D0N9Vy4ZayC6odn4+gqbRB2fz481PZ8JOTtQ/XKq8qghxjRBSfnNo3vgdwcd9EqFDUeTL0FAtLC5t+vyK/15WcR8/YW7we7dxkQ0I3Tl7HlKj1fOQltsQKHhpjquaIF6fFZckIER2yUFvwpmrX23Dsi7PP1h6I81SIa00wkqoXBRI9fTwYX/FgvJHo3apb6p7E6OJdkaLsDOq+iX7sFAOTg/giH6o2MhtaS4Adk1oN4DB2i8HJr5J9M+qaWaizNxm2LAkMzELDBDagQtvBlkrxqSi1SW5bUCF+wgb1jYHOeKgrqcVegIWVMWaCkVS/ZBAzUKvFlGY2mbKIdevxmUdrJYAKNZc2quq+a1KMBxLSJNiOSGUm0WQ1hwTqRd2BdSqzZb+ptFiRIjgRC59eQO9nTPNEaBbivVJGwrL18IGoGsfb7n/WpG5/vqfUYZkguKVQqfh4axIXsZ+Fk6A9VeN4W1iR4tNqYomI6njTbmO/VkXb6fpko5YVKVZ0xhIn5LYxFZuY97zW6rGmsdjqhXndEzu2cFO33RmsSHHvo0tIjBPbxgZV6hY3a5d2mE4IMVgd8jj5HXEBU5yEdLxokGzNojfh9sFkqC46pcbbZJ41KU2MKZ5oYZaI1ZiZUQVyPWjPcbaEiD05o4ekltGtoW3uccnw///jwONHvBt4LNHZyJb3pjEmWJ3RUwqbM3o64Dou5pBBkBcdc27s/VDGwFnBsHo/JW9eWA09SDMo0Ht/1wkVU8tAq3REkEZwfXmb5+d1Fr9+dY7OlTSWdosvHfnbL12HkSKQjLirXYpGa6+/6zf7/gGEoaO4VYQ1+gAAAABJRU5ErkJggg==",qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHhSURBVHgB7di/TsJQFAbw79ImYmJiE010g0k3BB+AlAfQxAcgwcHZF3DQxBcgjgwOPoCJbi4oo1PDphMMDg4kmKiBob3e0z+hLSXUcAsd+iWE9pRwf5y2t+QyuOFtTYP6ew6LNcRuEcuLAWY9w1SarDbqUYE5oHwROd5eMiacnmhIjWA5ezdn3a8YBHt8hd/SBhNd0t0upSOWWROd4mWkKkqZUBpSFa7lkMJkqLjJUHGTHEoVN/XhK7BTnz6234quJ4oiUOkJ2Cg5gLUCpkDheqIoP4jydgaM+0FQuJ4oKgr0eRcN8uqJoiSB5KEkguShJILmo+hLCxfTdarttSb7HzfSQBR15pGto+Bc0r923jerQei7O+BXBxj1FwZRZndq8DiBEMKD0OA0EGW3PumYJBBFuWwoOhjTI48SgKJVnZdX++k6iO1jcS0dOJMg/QgJIHC8qHM/FNUtqvmvHeoYofOFxUBu4t19hIjC0cDeqZQEio8Kw0a+x4MfJgFEmX/6wrDBA/DdDdbDd9+C+f/kGQZ5kQSiZP884yZDxY1AsSFSFTYklIFUxTSc9anOWls8c3SsOhwG08cV55oy2Slo0Wq16YGzE9qwUfaynlhFg4UmOF/u6eT2Ct4VrPWKt7z4Bwes0YEwLjVRAAAAAElFTkSuQmCC",Ht="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANQSURBVHgBzZg/TBNRHMd/7117/B3KIIMOnIlxgQQao4sDNCQ6Eifjgn/YNdFZjO6QwE6ILCQmxpC4OJDKKiGWwYXFY9BBh5YoYHvtPd/3XV85C/b+tKH3TZpcr6/3+9zv3/vdMdJaLWb4oPmEXPGAEVl0ThJEBU70seo6S3RvyMY5pn5ZL1oGN/NyiUVdE7NrbiUHMI6vnKffdRcIEpZhpFdxxGj915TBWZ4SIuaKHOeMTVCC5EoeTkJkKEmSPJwSqBTFVCbNaHyI08xFgyYvGJQxGZUqgkqOoN2SSxvfa7T1o0ZxFAvq8dUUzY+aCsyvkQHv++SwIdekyT4UNPepTFs/o8FFgrKk0ZXrPcooBK9sfKspoweVE7DJYXgwpdZv5nrp1ZeK/Dih7YSG8gz00Ug/UzDLe1X5cdRxs5b3sL5Cz6U371ueV61+To+2y6FshU70tzd7FRBCMp3/o+7eDzQ/mlbe0dKh0x6avZxSYe8Y1Ky82/F6oQIIiewXwglvLGTNU//1h25xokfeWLDJUFAvxsy6AYf2j1yKKoDpSpwfSweuD4RCSHTYcPG40t6auWScqtrIUKgkKGpZNwv/Rw4CSFdvbCidS7ul9qAUWD2E45k2PWUNaigRtFR2dWqZyAf1VtV2+BoGW1xot+jKAvBCg2YZVGFn9bZIUIWi5/KRAWppZDp/rMB0Fz8LDAWj17cFtX/oXcDfGM+S11T/BWv2LjZwKCgVAqGwt0GomKCw+MEyTX0UDRiQWBM0PQRCoZT1RRazwY0PRq99OKYr748bYYLndANes6uB1wiV6CeNL6X2uCABxp83CxNmowG//tohKHhLg2GPCwMGIVwrN3rUzUBzckoIs02FbgnYYjCuaLCdW33/7cyAwZC3c7tPjS4KCMNeyEk00pD3tFBWYYGn0Ok3p3pVSNDtS/XGaPV7Y7KuPDXCbJcjjcaRx2F4bM12GgMcktgaOH2ZoEGwo1CQHuCefa6oEGIva3jmyHtwiPvQEBtKy5vRq/JDHVUin/s4MVaiJEnycC5EgRIk8KjsNN78zsu3V1PUZeEFmnt3MKtyqlZzHsoTNnVRsO+6zh0ce4ku357JEzkmxBJo6RwlBNnyndRL98jJ6teLfwGor4uW6cRKRwAAAABJRU5ErkJggg==",Dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAkCAYAAAAOwvOmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPUSURBVHgBzVhLSFRhFD7/TaPpRSj0MmEWaUVYMwWSRDG167VoYS2CpsciF5VhEJVuAo1WglBoix62SxcuMl2lpfjAhV6RKNTFiFOp4CRqamr+ne/HAb0696WoH6j38V/v95/zne8crqBZ3AtUbBub3JAtiK7xqZdWDFKXUvusSVlU0nwmhCsCv7KOVXulRrUrS2YBQmKGToGYhjOpyYpVJgR4paA3OBBZxz4EpBZXS2sE/zha2oxY56M1BE1IXxwJuW1WWraxcXMcHT6xw3TN+OgU6fUD5BjMJ45c4GpuGgkhaGxkKuaa1CMJ5NkST01VP8gpXJFKTtlKpQUd1NkWibkmyMQTd3rIDTRygfKi7+qlSONi8J3criLVVO08Sq5J6fX9pNf1UzDv0IJ7iE7m3QNUeLuFBn+Nkxu4IgUM9k2w2LfTHk7lXJy/uVdpybM5ntxi3dHkKwFBImD3AUTi/vN0StzlocI7LdTf82fe/XauuOHIX7ry4KBaE/o6RFOTM2Qf8oujSEErOUyoseqnaXpQcfnBBtZcPOW+Pe5Y8LZJgVBm9gEqftRKNWUhy/Xjo9OqQkEQG3FCzBapueINd42QE1S+7lbEgnlptp+x5VPY6aeynnnpUj60K/buQSRqnCCW40+n05e9VPM+REsmlXE2SXUhY8pwPrfCUv0JqvJKHrbRGLeYcPfwvPWlTzuUvpo/hvn+tOk7LdOXcSaJKl91L7guDf0S7o7U7knZos49m+ZbAqIc7hy27JmAZaTgzCUsbiMu3GA/Mjh6AqfTd3KHihrc3Nj3cG7H6U1JJfOue3n3i4W72ED09CUvJe72qOuxrKJTj6gUW8GUVOLOjRTpi90qQGQf7zzFl6A0VPyw1bS1YKqA2y+JFNJjNp5gZoKGQKg0v4Nbj3mvg3fFauK2Sal/YrIzaAQCP8/6ynmRrqKk1w1QOzfrxQiqTVpUniWpXo7AVb+56YEInBvwcWUdZueP9I0tSgpzWLhrmJZEKlrGqCazgS4KNdLwTyzA8+xMopY+BTfOenbE9RQZBVKs7GA5SCFC5UXfVKtR7u4QEHZm9n7KOJekeqcd2Op9UUEHH6epHWNm0mfFbLQAkEDZp7JNQF/QEZ4vuNbAlWwtctukALwcQx2aMFoPyOE42pRxH8eornG2EWyis+03veOeZ5eMY1JzyUFnRoCQ25ncCNczuhHLRQjQSIohWktgPpomhU5rCDPMRw1FtzKqa3k8CtCqQ+ovG8/6laaEpOv8J0SrC/5oJi7iQJHC1zN8RWOmRWBLK4sQp+uJZ/2EP/p58T+NLasW3TdpwgAAAABJRU5ErkJggg==",Pt={class:"w-full xl:w-[320px] xl:min-w-[320px] bg-white rounded-lg shadow-sm pt-3 lg:mt-0"},Xt={class:"px-4"},$t={class:"flex items-center mb-6 border-b border-gray-100 py-3"},te=["src"],ee={key:1,class:"w-[60px] min-w-[60px] mr-4 text-2xl h-[60px] flex items-center justify-center rounded-full bg-gray-100 shadow-sm"},se={class:"text-[15px] font-medium text-gray-800"},oe={class:"text-gray-500 text-xs font-normal"},le={class:"border-b pb-4"},ae={class:"text-[47px] font-semibold text-red-500"},re={class:"grid grid-cols-2 gap-4 pt-4"},ne={class:"border border-gray-200 rounded-lg px-4 py-3 text-center hover:shadow-md transition-shadow"},ie={class:"text-lg font-semibold text-gray-800"},ce={class:"border border-gray-200 rounded-lg px-4 py-3 text-center hover:shadow-md transition-shadow"},de={class:"text-lg font-semibold text-gray-800"},ue={class:"border border-gray-200 rounded-lg px-4 py-3 text-center hover:shadow-md transition-shadow"},me={class:"text-lg font-semibold text-gray-800"},pe={class:"border border-gray-200 rounded-lg px-4 py-3 text-center hover:shadow-md transition-shadow"},ve={class:"text-lg font-semibold text-gray-800"},xe={class:"rounded-lg px-4 xl:px-0 w-full mt-6"},ge={class:"rounded-t-xl px-6 py-4 achieve-bg relative overflow-hidden bg-gradient-to-b to-white"},fe={class:"flex flex-col items-center"},he={class:"relative"},_e={class:"bg-orange-400 rounded-full w-20 h-20 flex items-center justify-center border-4 border-[#f17940] shadow-lg"},ye=["src"],Ae={key:1,class:"rounded-full w-full h-full bg-gray-100 flex items-center justify-center"},we={class:"text-sm font-medium pt-3 text-gray-800"},be={class:"text-[10px] font-normal pt-1 flex gap-1 flex-col items-center"},ke={class:"flex items-center gap-1"},Be={class:"flex items-center gap-1"},Se={class:"flex justify-between -mt-10"},Ce={class:"flex flex-col items-center"},Ee={class:"relative"},Ue={class:"bg-purple-400 rounded-full w-16 h-16 flex items-center justify-center border-4 border-[#995dc5] shadow-lg"},Re=["src"],je={key:1,class:"rounded-full w-full h-full bg-gray-100 flex items-center justify-center"},Fe={class:"text-xs font-medium pt-3 text-gray-800"},Le={class:"text-[10px] font-normal pt-1 flex flex-col items-center gap-1"},Ke={class:"flex items-center gap-1"},Te={class:"flex items-center gap-1"},Ve={class:"flex flex-col items-center"},We={class:"relative"},Ye={class:"bg-blue-400 rounded-full w-16 h-16 flex items-center justify-center border-4 border-[#4c89f8] shadow-lg"},Oe=["src"],Qe={key:1,class:"rounded-full w-full h-full bg-gray-100 flex items-center justify-center"},Me={class:"text-xs font-medium pt-3 text-gray-800"},Je={class:"text-[10px] font-normal pt-1 flex flex-col items-center gap-1"},Ne={class:"flex items-center gap-1"},Ie={class:"flex items-center gap-1"},ze={class:"overflow-x-auto"},Ze={class:"w-full"},Ge={key:0},qe={class:"text-[12px] font-medium py-2"},He={class:"flex items-center pl-3"},De={class:"w-8 h-8 flex items-center"},Pe=["src","alt"],Xe={key:1,class:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center shadow-sm"},$e={class:"text-gray-700 font-medium text-[11px] ml-2"},ts={class:"text-[11px] font-normal text-center py-2 text-gray-600"},es={class:"text-[11px] font-normal text-center py-2 text-gray-600"},ss={class:"text-[11px] font-normal text-center py-2 text-gray-600"},os={key:1},ls={class:"bg-white w-full px-4 pb-4 border-t border-gray-100"},as={class:"flex justify-between items-center"},rs=["src","alt"],ns={key:1,class:"w-10 h-10 rounded-[4px] border flex justify-center items-center shadow-sm"},is={class:"text-[14px] font-medium text-gray-800"},cs={class:"text-gray-500 text-[12px]"},ds={class:"text-gray-800 font-medium"},us={class:"text-gray-500 text-[12px]"},ms={class:"text-gray-800 font-medium"},ps={key:1,class:"text-center text-gray-500 py-4"},vs={__name:"MyDetails",setup(k){const p=at("auth"),u=at("call"),v=f([]),U=f(),w=f({}),r=f([]),b=f([]),x=f([]),B=()=>C(this,null,function*(){try{const i=yield u("mykartavya.controllers.api.user_count");i&&(w.value=i)}catch(i){console.error("Error fetching activity data:",i)}}),J=()=>C(this,null,function*(){try{const i=yield u("mykartavya.controllers.api.user_count_opp");i&&(x.value=i)}catch(i){console.error("Error fetching activity data:",i)}}),N=()=>C(this,null,function*(){try{const i=yield u("mykartavya.controllers.api.top_three_volunteer");U.value=i,i&&(r.value=i)}catch(i){console.error("Error fetching activity data:",i)}}),O=()=>C(this,null,function*(){try{const i=yield u("mykartavya.controllers.api.sdg_impacted");i&&(b.value=i)}catch(i){console.error("Error fetching activity data:",i)}}),Q=()=>C(this,null,function*(){const i=yield u("mykartavya.controllers.api.get_top_users",{});i&&(v.value=i.users)});Lt(()=>{N(),Q(),J(),B(),O()});const g=i=>(i/60/60).toFixed(2);return(i,s)=>{var I,et,z,Z,G,M,q,H,D,st,ot,T,a,e,A,F,L,m,h,V,W,_,P,ut,mt,pt,vt,xt,gt,ft,ht,_t,yt,At,wt,bt,kt,Bt,St,Ct,Et;const K=Mt("router-link");return o(),l("aside",Pt,[t("div",Xt,[t("div",$t,[y(p).cookie.user_image?(o(),l("img",{key:0,src:y(p).cookie.user_image,alt:"Profile Picture",class:"rounded-full w-[60px] h-[60px] object-cover mr-4 shadow-sm"},null,8,te)):(o(),l("div",ee,c(y(p).cookie.full_name.charAt(0)),1)),t("div",null,[t("h2",se,c(y(p).cookie.full_name),1),t("p",oe,c(y(p).cookie.user_id),1),d(K,{to:"/updateprofile",class:"text-[11px] font-medium mt-2 inline-block hover:text-orange-600 transition-colors",style:{color:"#ff5722"}},{default:jt(()=>s[0]||(s[0]=[E("EDIT PROFILE")])),_:1})])]),t("div",le,[s[1]||(s[1]=t("h3",{class:"text-[19px] font-medium text-gray-800"},"Total Karma Points",-1)),t("p",ae,c((((I=w.value)==null?void 0:I.karma_points)||0)+(((et=x.value)==null?void 0:et.karma_points)||0)?((((z=w.value)==null?void 0:z.karma_points)||0)+(((Z=x.value)==null?void 0:Z.karma_points)||0)).toLocaleString():"0"),1)]),t("div",re,[t("div",ne,[s[2]||(s[2]=t("span",{class:"block text-blue-500 text-xl pb-2"},[t("img",{src:Gt,alt:"",class:"mx-auto"})],-1)),s[3]||(s[3]=t("h4",{class:"font-medium text-[11px] pb-1 text-gray-600"}," Act of Random Kindness ",-1)),t("p",ie,c(((G=w.value)==null?void 0:G.activity_completed)||"0"),1)]),t("div",ce,[s[4]||(s[4]=t("span",{class:"block text-blue-500 text-xl pb-2"},[t("img",{src:qt,alt:"",class:"mx-auto"})],-1)),s[5]||(s[5]=t("h4",{class:"font-medium text-[11px] pb-1 text-gray-600"}," Completed Opportunities ",-1)),t("p",de,c(((M=x.value)==null?void 0:M.opportunity_completed)||"0"),1)]),t("div",ue,[s[6]||(s[6]=t("span",{class:"block text-blue-500 text-xl pb-2"},[t("img",{src:Ht,alt:"",class:"mx-auto"})],-1)),s[7]||(s[7]=t("h4",{class:"font-medium text-[11px] pb-1 text-gray-600"}," Time Donated ",-1)),t("p",me,c(((q=w.value)==null?void 0:q.total_hours)+((H=x.value)==null?void 0:H.total_hours)?g(((D=w.value)==null?void 0:D.total_hours)+((st=x.value)==null?void 0:st.total_hours))+" hrs ":"0"),1)]),t("div",pe,[s[8]||(s[8]=t("span",{class:"block text-blue-500 text-xl pb-2"},[t("img",{src:Dt,alt:"",class:"mx-auto"})],-1)),s[9]||(s[9]=t("h4",{class:"font-medium text-[11px] pb-1 text-gray-600"}," Money Saved ",-1)),t("p",ve," ₹ "+c((((ot=w.value)==null?void 0:ot.work_value_rupees)||0)+(((T=x.value)==null?void 0:T.work_value_rupees)||0)?((((a=w.value)==null?void 0:a.work_value_rupees)||0)+(((e=x.value)==null?void 0:e.work_value_rupees)||0)).toLocaleString():"0"),1)])])]),t("div",xe,[t("div",ge,[s[13]||(s[13]=t("h2",{class:"text-md font-semibold text-gray-800 pb-10 relative z-10"}," Top Performers ",-1)),s[14]||(s[14]=t("div",{class:"absolute top-12 left-1/2 transform -translate-x-1/2"},[t("svg",{width:"30",height:"23",viewBox:"0 0 23 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M3.04167 15.333L0.625 2.04134L7.27083 8.08301L11.5 0.833008L15.7292 8.08301L22.375 2.04134L19.9583 15.333H3.04167ZM19.9583 18.958C19.9583 19.683 19.475 20.1663 18.75 20.1663H4.25C3.525 20.1663 3.04167 19.683 3.04167 18.958V17.7497H19.9583V18.958Z",fill:"#EBBB00"})])],-1)),t("div",fe,[t("div",he,[t("div",_e,[(A=r.value[0])!=null&&A.user_image?(o(),l("img",{key:0,src:(F=r.value[0])==null?void 0:F.user_image,alt:"Anaya Singh",class:"rounded-full w-full h-full object-cover"},null,8,ye)):(o(),l("div",Ae,c(((m=(L=r.value[0])==null?void 0:L.first_name)==null?void 0:m.charAt(0))||" T"),1))]),s[10]||(s[10]=t("span",{class:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-orange-500 text-white text-xs w-6 h-6 flex items-center justify-center rounded-full shadow-sm"}," 1 ",-1))]),t("p",we,c(((h=r.value[0])==null?void 0:h.first_name)||"Top 1"),1),t("div",be,[t("div",ke,[d(y(S),{name:"database",class:"size-3 text-gray-500"}),E(" "+c(((W=(V=r.value[0])==null?void 0:V.total_karma_points)==null?void 0:W.toLocaleString())||"0")+" Points ",1)]),t("div",Be,[d(y(S),{name:"clock",class:"size-3 text-gray-500"}),E(" "+c((_=r.value[0])!=null&&_.total_hours?g((P=r.value[0])==null?void 0:P.total_hours):"0")+" hr ",1)])])]),t("div",Se,[t("div",Ce,[t("div",Ee,[t("div",Ue,[(ut=r.value[1])!=null&&ut.user_image?(o(),l("img",{key:0,src:(mt=r.value[1])==null?void 0:mt.user_image,alt:"Anaya Singh",class:"rounded-full w-full h-full object-cover"},null,8,Re)):(o(),l("div",je,c(((vt=(pt=r.value[1])==null?void 0:pt.first_name)==null?void 0:vt.charAt(0))||" T"),1))]),s[11]||(s[11]=t("span",{class:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-purple-500 text-white text-xs w-6 h-6 flex items-center justify-center rounded-full shadow-sm"}," 2 ",-1))]),t("p",Fe,c(((xt=r.value[1])==null?void 0:xt.first_name)||"Top 2"),1),t("div",Le,[t("div",Ke,[d(y(S),{name:"database",class:"size-3 text-gray-500"}),E(" "+c(((ft=(gt=r.value[1])==null?void 0:gt.total_karma_points)==null?void 0:ft.toLocaleString())||"0")+" Points ",1)]),t("div",Te,[d(y(S),{name:"clock",class:"size-3 text-gray-500"}),E(" "+c((ht=r.value[1])!=null&&ht.total_hours?g((_t=r.value[1])==null?void 0:_t.total_hours):"0")+" hr ",1)])])]),t("div",Ve,[t("div",We,[t("div",Ye,[(yt=r.value[2])!=null&&yt.user_image?(o(),l("img",{key:0,src:(At=r.value[2])==null?void 0:At.user_image,alt:"Anaya Singh",class:"rounded-full w-full h-full object-cover"},null,8,Oe)):(o(),l("div",Qe,c(((bt=(wt=r.value[2])==null?void 0:wt.first_name)==null?void 0:bt.charAt(0))||"T"),1))]),s[12]||(s[12]=t("span",{class:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white text-xs w-6 h-6 flex items-center justify-center rounded-full shadow-sm"}," 3 ",-1))]),t("p",Me,c(((kt=r.value[2])==null?void 0:kt.first_name)||"Top 3"),1),t("div",Je,[t("div",Ne,[d(y(S),{name:"database",class:"size-3 text-gray-500"}),E(" "+c(((St=(Bt=r.value[2])==null?void 0:Bt.total_karma_points)==null?void 0:St.toLocaleString())||"0")+" Points ",1)]),t("div",Ie,[d(y(S),{name:"clock",class:"size-3 text-gray-500"}),E(" "+c((Ct=r.value[2])!=null&&Ct.total_hours?g((Et=r.value[2])==null?void 0:Et.total_hours):"0")+" hr ",1)])])])])]),t("div",ze,[t("table",Ze,[s[16]||(s[16]=t("thead",{class:"bg-gray-50"},[t("tr",{class:"px-2"},[t("th",{class:"text-[11px] pl-3 py-2 font-medium text-gray-600 text-left"}," Name "),t("th",{class:"text-[11px] py-2 font-medium text-gray-600 text-center"}," Time "),t("th",{class:"text-[11px] py-2 font-medium text-gray-600 text-center"}," Karma Points "),t("th",{class:"text-[11px] py-2 font-medium text-gray-600 text-center"}," Rank ")])],-1)),v.value.length>0?(o(),l("tbody",Ge,[(o(!0),l($,null,tt(v.value,n=>{var lt,X;return o(),l("tr",{key:n.id,class:"border-t border-gray-100 hover:bg-gray-50 transition-colors"},[t("td",qe,[t("div",He,[t("div",De,[n.user_image?(o(),l("img",{key:0,src:n.user_image,alt:n.name,class:"w-6 h-6 rounded-full object-cover shadow-sm"},null,8,Pe)):(o(),l("div",Xe,c((lt=n.full_name)==null?void 0:lt.charAt(0)),1))]),t("span",$e,c(n==null?void 0:n.full_name),1)])]),t("td",ts,c((n==null?void 0:n.duration)/60/60<1?((n==null?void 0:n.duration)/60/60).toFixed(2)+" hr":Math.floor((n==null?void 0:n.duration)/60/60)+" hr "+Math.floor((n==null?void 0:n.duration)%(60*60)/60)+" min"),1),t("td",es,c((X=n==null?void 0:n.karma_points)==null?void 0:X.toLocaleString()),1),t("td",ss,c(n==null?void 0:n.rank),1)])}),128))])):(o(),l("tbody",os,s[15]||(s[15]=[t("tr",null,[t("td",{colspan:"4",class:"text-center text-gray-500 py-4"}," No users found ")],-1)])))])])]),t("div",ls,[t("div",as,[s[18]||(s[18]=t("h2",{class:"text-[16px] font-medium pt-6 text-gray-800"},"SDGs Impacted",-1)),d(K,{to:"/all-volunteer",class:"text-orange-500 text-[11px] font-medium hover:text-orange-600 transition-colors"},{default:jt(()=>s[17]||(s[17]=[E("VIEW ALL")])),_:1})]),b.value.length>0?(o(!0),l($,{key:0},tt(b.value,(n,lt)=>{var X;return o(),l("div",{key:lt,class:"flex items-center space-x-4 pt-4 hover:bg-gray-50 p-2 rounded-lg transition-colors"},[n.image?(o(),l("img",{key:0,src:n.image,alt:n.sdgs_name,class:"w-10 h-10 rounded-[4px] shadow-sm"},null,8,rs)):(o(),l("div",ns,c((X=n.sdgs_name)==null?void 0:X.charAt(0)),1)),t("div",null,[t("h3",is,c(n.sdgs_name||"0"),1),t("p",cs,[s[19]||(s[19]=E(" Time Donated : ")),t("span",ds,c(n.hour?g(n.hour):"0")+" hr",1)]),t("p",us,[s[20]||(s[20]=E(" Money Saved : ")),t("span",ms," ₹ "+c(n.work_values||"0"),1)])])])}),128)):(o(),l("div",ps," No SDGs found "))])])}}},xs=Ft(vs,[["__scopeId","data-v-56be5e48"]]),gs={key:0,class:"w-full bg-orange-100"},fs={class:"max-w-7xl mx-auto py-2 px-4 sm:px-6 lg:px-8"},hs={class:"flex items-center justify-between"},_s={class:"max-w-7xl mx-auto py-3 px-4 sm:px-6 lg:px-8"},ys={class:"flex items-center gap-3"},As={class:"flex-1"},ws={class:"text-sm text-red-700 mt-1 line-clamp-2"},bs={class:"w-full lg:pl-[270px] flex flex-col xl:flex-row"},ks={class:"w-full px-2 sm:px-3 py-3 bg-gray-50"},Bs={class:"flex justify-between mb-2"},Ss={class:"p-3 sm:p-4 border rounded-[12px] bg-white"},Cs={class:"w-full"},Es={class:"flex justify-between items-center w-full"},Us={class:"flex items-center lg:hidden"},Rs={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},js={key:1,class:"w-full"},Fs={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Ls={key:1,class:"w-full h-[280px]"},Ks={key:0,class:"flex justify-center mt-2 lg:hidden"},Ts={class:"px-3 sm:px-4 mt-5 border rounded-[12px] bg-white overflow-y-auto"},Vs={class:"w-full h-12 flex items-center bg-white sticky top-0 z-10"},Ws={class:"flex items-center ml-auto lg:hidden"},Ys={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Os={key:1,class:"w-full pb-4"},Qs={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Ms={key:1,class:"w-full h-[280px]"},Js={key:0,class:"flex justify-center mt-2 lg:hidden"},Ns={class:"px-3 sm:px-4 mt-5 border rounded-[12px] bg-white overflow-y-auto"},Is={class:"w-full h-12 flex items-center bg-white sticky top-0 z-10"},zs={class:"flex items-center ml-auto lg:hidden"},Zs={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Gs={key:1,class:"w-full pb-4"},qs={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Hs={key:1,class:"w-full h-[280px]"},Ds={key:0,class:"flex justify-center mt-2 lg:hidden"},Ps=245,Xs={__name:"Mykarma",setup(k){const p=f([]),u=f([]),v=f(!1),U=at("call"),w=at("store"),r=f(null),b=f(!1),x=f(!1),B=f(null),J=f([]),N=f([]),O=f(!0),Q=f(!1),g=f(null),i=f(!0),s=f(!1),K=Ps,I=a=>C(this,null,function*(){v.value=!0;try{const e=yield U("mykartavya.controllers.api.available_commitments",{filter:a!=null?a:{}});u.value=e,setTimeout(()=>{v.value=!1,T(),D()},1e3)}catch(e){v.value=!1,console.error("Error fetching commitments:",e)}}),et=()=>C(this,null,function*(){var a;try{const e=yield U("mykartavya.controllers.api.sva_user_data");e&&e.length>0&&(B.value=e[0],b.value=((a=e[0])==null?void 0:a.workflow_state)==="Approved")}catch(e){console.error("Error checking user approval status:",e)}}),z=a=>C(this,null,function*(){v.value=!0;try{const e=yield U("mykartavya.controllers.api.current_commitments",{filter:a!=null?a:{}});p.value=e,setTimeout(()=>{v.value=!1,T()},1e3)}catch(e){v.value=!1,console.error("Error fetching Kindness data:",e)}}),Z=a=>C(this,null,function*(){v.value=!0;try{const e=yield U("mykartavya.controllers.api.current_opportunity",{filter:a!=null?a:{}});N.value=e,setTimeout(()=>{v.value=!1,T()},1e3)}catch(e){v.value=!1,console.error("Error fetching Kindness data:",e)}}),G=a=>C(this,null,function*(){v.value=!0;try{const e=yield U("mykartavya.controllers.api.ava_opportunities",{filter:a!=null?a:{}});J.value=e}catch(e){console.error("Error fetching Kindness data:",e)}finally{v.value=!1}}),M=Jt(()=>{const a=p.value.map(m=>{const h=parseFloat(m.hours||m.total_hours||m.duration||0);return nt(rt({},m),{doctype:"Volunteer Activity",hours:h})}),e=N.value.map(m=>{const h=parseFloat(m.hours||m.total_hours||m.duration||0);return nt(rt({},m),{doctype:"Opportunity",hours:h})}),A=[...a,...e],F=w.filters.karma_points;if(F==="Low to High")return A.sort((m,h)=>(m.karma_points||0)-(h.karma_points||0));if(F==="High to Low")return A.sort((m,h)=>(h.karma_points||0)-(m.karma_points||0));const L=w.filters.volunteering_hours;return L==="Low to High"?A.sort((m,h)=>(m.hours||0)-(h.hours||0)):L==="High to Low"?A.sort((m,h)=>(h.hours||0)-(m.hours||0)):A.sort((m,h)=>{var _,P;const V=(_=m.com_percent)!=null?_:-1,W=(P=h.com_percent)!=null?P:-1;return V-W})}),q=()=>{g.value&&g.value.scrollTo({left:Math.max(0,g.value.scrollLeft-K),behavior:"smooth"})},H=()=>{if(g.value){const a=g.value.scrollWidth-g.value.clientWidth;g.value.scrollTo({left:Math.min(a,g.value.scrollLeft+K),behavior:"smooth"})}},D=()=>{if(!g.value)return;const{scrollLeft:a,scrollWidth:e,clientWidth:A}=g.value;i.value=a<=0,s.value=a+A>=e},st=()=>{r.value&&r.value.scrollTo({left:Math.max(0,r.value.scrollLeft-K),behavior:"smooth"})},ot=()=>{if(r.value){const a=r.value.scrollWidth-r.value.clientWidth;r.value.scrollTo({left:Math.min(a,r.value.scrollLeft+K),behavior:"smooth"})}},T=()=>{if(!r.value)return;const{scrollLeft:a,scrollWidth:e,clientWidth:A}=r.value;O.value=a<=0,Q.value=a+A>=e};return Nt(()=>{r.value&&r.value.addEventListener("scroll",T),g.value&&g.value.addEventListener("scroll",D)}),Lt(()=>{et(),z(),I(),G(),Z()}),It(()=>w.filters,(a,e)=>{a&&(z(a),I(a),G(a),Z(a))},{deep:!0,immediate:!0}),(a,e)=>{var A,F,L,m,h,V,W;return o(),l("div",{class:R(["max-w-[1920px] w-full mx-auto",{"pt-[62px]":!b.value&&((A=B.value)==null?void 0:A.workflow_state)!=="Rejected"}])},[!b.value&&((F=B.value)==null?void 0:F.workflow_state)!=="Rejected"?(o(),l("div",gs,[t("div",fs,[t("div",hs,[e[3]||(e[3]=zt('<div class="flex items-center" data-v-a69c0157><span class="flex p-1.5 rounded-lg bg-orange-100" data-v-a69c0157><svg class="h-4 w-4 text-orange-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a69c0157><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" data-v-a69c0157></path></svg></span><p class="ml-2 text-sm font-medium text-orange-800" data-v-a69c0157><span class="md:hidden" data-v-a69c0157>Account pending approval</span><span class="hidden md:inline" data-v-a69c0157>Your account is pending approval. Some features may be limited.</span></p></div>',1)),t("button",{onClick:e[0]||(e[0]=_=>x.value=!0),class:"bg-orange-100 hover:bg-orange-200 px-4 py-1.5 rounded-sm text-sm font-medium text-orange-800 flex items-center gap-1.5 transition-all duration-200 button-animation"},e[2]||(e[2]=[E(" Request for Approval "),t("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M6 12L10 8L6 4",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])])])):Y("",!0),((L=B.value)==null?void 0:L.workflow_state)==="Rejected"&&((m=B.value)!=null&&m.custom_remarks)?(o(),l("div",{key:1,class:R(["w-full bg-red-50/50",{"mt-16":!b.value}])},[t("div",_s,[t("div",ys,[e[5]||(e[5]=t("div",{class:"w-8 h-8 min-w-8 min-h-8 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0"},[t("svg",{class:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",As,[e[4]||(e[4]=t("div",{class:"flex items-center gap-2"},[t("h3",{class:"text-sm font-medium text-red-800"},"Rejection Reason"),t("span",{class:"text-xs text-red-600 bg-red-100 px-2 py-0.5 rounded-full"},"Account Rejected")],-1)),t("p",ws,c(B.value.custom_remarks),1)])])])],2)):Y("",!0),d(Zt,{modelValue:x.value,"onUpdate:modelValue":e[1]||(e[1]=_=>x.value=_)},null,8,["modelValue"]),t("div",{class:R(["w-full flex flex-col lg:flex-row px-4 sm:px-5",{"mt-[8px]":!b.value,"mt-[60px]":b.value}])},[d(Ot),t("div",bs,[t("main",ks,[t("div",Bs,[e[6]||(e[6]=t("h1",{class:"text-[20px] sm:text-[23px] font-normal"},"My Karma",-1)),d(Qt)]),t("section",Ss,[t("div",Cs,[t("div",Es,[e[7]||(e[7]=t("h2",{class:"text-base sm:text-lg font-medium"},"Current Commitments & Opportunities",-1)),t("div",Us,[d(y(S),{onClick:st,class:R(["size-5 cursor-pointer",O.value?"text-gray-500 disabled":"text-gray-700"]),name:"chevron-left",disabled:O.value},null,8,["class","disabled"]),d(y(S),{onClick:ot,class:R(["size-5 cursor-pointer",Q.value?"text-gray-500 disabled":"text-gray-700"]),name:"chevron-right",disabled:Q.value},null,8,["class","disabled"])])]),v.value?(o(),l("div",Rs,[d(j),d(j),d(j)])):(o(),l("div",js,[t("div",{ref_key:"scrollContainer",ref:r,class:"py-4 w-full overflow-x-auto lg:overflow-x-visible"},[((h=p.value)==null?void 0:h.length)>0||N.value.length>0?(o(),l("div",Fs,[(o(!0),l($,null,tt(M.value,_=>(o(),it(dt,{key:_.name,item:_,mode:_.doctype==="Volunteer Activity"?"activity":"opportunity",type:"card"},null,8,["item","mode"]))),128))])):Y("",!0),M.value.length===0?(o(),l("div",Ls,[d(ct)])):Y("",!0)],512),M.value.length>0&&(!O.value||!Q.value)?(o(),l("div",Ks,e[8]||(e[8]=[t("button",{class:"border px-3 h-7 text-xs font-normal border-[#FF5722] rounded-sm text-secondary hover:bg-orange-50 transition-colors"}," View All ",-1)]))):Y("",!0)]))])]),t("section",Ts,[t("div",Vs,[e[9]||(e[9]=t("h2",{class:"text-base sm:text-lg font-medium"},"Available Commitments",-1)),t("div",Ws,[d(y(S),{onClick:q,class:R(["size-5 cursor-pointer",i.value?"text-gray-500 disabled":"text-gray-700"]),name:"chevron-left",disabled:i.value},null,8,["class","disabled"]),d(y(S),{onClick:H,class:R(["size-5 cursor-pointer",s.value?"text-gray-500 disabled":"text-gray-700"]),name:"chevron-right",disabled:s.value},null,8,["class","disabled"])])]),v.value?(o(),l("div",Ys,[d(j),d(j),d(j)])):(o(),l("div",Os,[t("div",{ref_key:"scrollContainerAvailable",ref:g,class:"py-2 w-full overflow-x-auto lg:overflow-x-visible"},[u.value.length>0?(o(),l("div",Qs,[(o(!0),l($,null,tt(u.value,_=>(o(),it(dt,{key:_.name,item:_,mode:"activity"},null,8,["item"]))),128))])):(o(),l("div",Ms,[d(ct,{message:"Available Commitments not Found!"})]))],512),u.value.length>0&&(!i.value||!s.value)?(o(),l("div",Js,e[10]||(e[10]=[t("button",{class:"border px-3 h-7 text-xs font-normal border-[#FF5722] rounded-sm text-secondary hover:bg-orange-50 transition-colors"}," View All ",-1)]))):Y("",!0)]))]),t("section",Ns,[t("div",Is,[e[11]||(e[11]=t("h2",{class:"text-base sm:text-lg font-medium"},"Available Opportunities",-1)),t("div",zs,[d(y(S),{onClick:q,class:R(["size-5 cursor-pointer",i.value?"text-gray-500 disabled":"text-gray-700"]),name:"chevron-left",disabled:i.value},null,8,["class","disabled"]),d(y(S),{onClick:H,class:R(["size-5 cursor-pointer",s.value?"text-gray-500 disabled":"text-gray-700"]),name:"chevron-right",disabled:s.value},null,8,["class","disabled"])])]),v.value?(o(),l("div",Zs,[d(j),d(j),d(j)])):(o(),l("div",Gs,[t("div",{ref_key:"scrollContainerAvailable",ref:g,class:"py-2 w-full overflow-x-auto lg:overflow-x-visible"},[((V=J.value)==null?void 0:V.length)>0?(o(),l("div",qs,[(o(!0),l($,null,tt(J.value,_=>(o(),it(dt,{key:_.name,item:_,mode:"opportunity"},null,8,["item"]))),128))])):(o(),l("div",Hs,[d(ct,{message:"Available Commitments not Found!"})]))],512),((W=u.value)==null?void 0:W.length)>0&&(!i.value||!s.value)?(o(),l("div",Ds,e[12]||(e[12]=[t("button",{class:"border px-3 h-7 text-xs font-normal border-[#FF5722] rounded-sm text-secondary hover:bg-orange-50 transition-colors"}," View All ",-1)]))):Y("",!0)]))])]),d(xs)])],2)],2)}}},io=Ft(Xs,[["__scopeId","data-v-a69c0157"]]);export{io as default};
